"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[887],{3495:function(e,n,i){i.d(n,{fX:function(){return l},qb:function(){return t}});var l=function(e){var n=null===e||void 0===e?void 0:e.trim();if(null===n||void 0===n)return!1;var i=n.split("-")[0],l=Number(n.split("-")[1])-1,o=n.split("-")[2],r="".concat((new Date).getFullYear()),d="".concat((new Date).getMonth()),s="".concat((new Date).getDate());if(!t(n))return!1;if(Number(i)>Number(r))return!0;if(Number(i)<Number(r))return!1;if(Number(i)===Number(r)){if(Number(l>Number(d)))return!0;if(Number(l<Number(d)))return!1;if(Number(l)===Number(d)){if(Number(o)>=Number(s))return!0;if(Number(o)<Number(s))return!1}}},t=function(e){var n,i,l,t=e.trim(),o=t.split("-")[0],r=t.split("-")[1],d=t.split("-")[2];return!(!Number(o)||!Number(r)||!Number(d)||4!==(null===o||void 0===o?void 0:o.length)||null!==(n=String(o))&&void 0!==n&&n.startsWith("0")||Number(r)>12||Number(r<=0)||2!==(null===(i=String(r))||void 0===i?void 0:i.length)||d>31||Number(d<=0)||2!==(null===(l=String(d))||void 0===l?void 0:l.length))}},6638:function(e,n){n.Z=function(e,n){401===e?n("Unathorized..."):400===e?n("Bad request..."):405===e?n("Method not allowed..."):403===e?n("Error, request not allowed..."):404===e?n("Error, server rejected..."):409===e?n("Similar identity exists"):500===e&&n("Internal error...")}},887:function(e,n,i){i.r(n);var l=i(4165),t=i(1413),o=i(5861),r=i(9439),d=i(3465),s=i(4569),a=i.n(s),u=i(5332),v=i(6638),c=i(408),h=i(7689),m=i(8781),b=i(2791),p=i(3495),f=(i(2359),i(6477),i(184));n.default=function(){var e={error:"rgb(255, 71, 86)",valid:"white"},n=(0,d.Z)().auth,i=(0,h.s0)(),s=[],x=function(e){e&&!s.includes(e)&&s.push(e)},j=(0,b.useState)(""),N=(0,r.Z)(j,2),w=N[0],g=N[1],k=(0,b.useState)({showloading:!1}),y=(0,r.Z)(k,2),Z=y[0],D=y[1],C=function(){var r=(0,o.Z)((0,l.Z)().mark((function o(){var r,d,h,m,b,f,x,j,N,w,k;return(0,l.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(d=0,h=0,m=!1,b={title:s[0].value,link:s[1].value,not_current_content:!0,dateReleased:null===(r=s[2])||void 0===r?void 0:r.value},s.forEach((function(n){var i,l,t,o,r,s,a,u,v,c;if((n.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.valid),"link"===(null===n||void 0===n?void 0:n.className))&&""!==(null===n||void 0===n?void 0:n.value))if(null!==n&&void 0!==n&&null!==(i=n.value)&&void 0!==i&&i.startsWith("https://")&&(null!==(l=new URL(null===n||void 0===n||null===(o=n.value)||void 0===o?void 0:o.trim()))&&void 0!==l&&null!==(t=l.origin)&&void 0!==t&&t.toLowerCase().endsWith((null===n||void 0===n||null===(r=n.id)||void 0===r?void 0:r.toLowerCase())+".com")||null!==(s=new URL(null===n||void 0===n?void 0:n.value))&&void 0!==s&&s.origin.endsWith(null===(a=(null===n||void 0===n||null===(u=n.id)||void 0===u||null===(v=u.toLowerCase())||void 0===v?void 0:v.slice(0,5))+"."+(null===n||void 0===n||null===(c=n.id)||void 0===c?void 0:c.trim().slice(5,8)))||void 0===a?void 0:a.trim()))){n.style.borderBottom="3px solid ".concat(e.valid);try{new URL(null===n||void 0===n?void 0:n.value)}catch(b){h+=1,n.style.borderBottom="3px solid ".concat(e.error),g("Invalid ".concat(null===n||void 0===n?void 0:n.id," URL proovided"))}}else h+=1,n.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.error),g("Invalid ".concat(null===n||void 0===n?void 0:n.id," URL proovided"));"date"!==(null===n||void 0===n?void 0:n.type)&&"date"!==(null===n||void 0===n?void 0:n.id)&&"date"!==(null===n||void 0===n?void 0:n.className)||("Invalid Date"!==new Date("".concat(null===n||void 0===n?void 0:n.value))&&(0,p.qb)(null===n||void 0===n?void 0:n.value)?n.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.valid):(m=!0,n.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.error),g("Invalid date"))),""===(null===n||void 0===n?void 0:n.value)&&(g("Enter all fields"),d+=1,n.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.error))})),0!==d||0!==h||!1!==m){l.next=17;break}return D((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!0})})),l.prev=7,l.next=10,a().post("".concat(c.C,"/save-video"),b,{withCredentials:!0});case 10:200===(null===(f=l.sent)||void 0===f?void 0:f.status)&&i("/".concat(null===n||void 0===n||null===(x=n.stagenameInUrl)||void 0===x||null===(j=x.trim())||void 0===j?void 0:j.toLowerCase(),"/added-videos")),l.next=17;break;case 14:l.prev=14,l.t0=l.catch(7),null!==l.t0&&void 0!==l.t0&&null!==(N=l.t0.response)&&void 0!==N&&N.data?401===(null===l.t0||void 0===l.t0||null===(w=l.t0.response)||void 0===w?void 0:w.status)?(0,u.Z)(n).then((function(e){var l,t;200===e.status?C():i("/".concat(null===n||void 0===n||null===(l=n.stagenameInUrl)||void 0===l||null===(t=l.trim())||void 0===t?void 0:t.toLowerCase(),"/sign-out"))})):((0,v.Z)(null===l.t0||void 0===l.t0||null===(k=l.t0.response)||void 0===k?void 0:k.status,g),D((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})}))):(D((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})})),g("Network error..."));case 17:case"end":return l.stop()}}),o,null,[[7,14]])})));return function(){return r.apply(this,arguments)}}();return(0,f.jsxs)(f.Fragment,{children:[(null===Z||void 0===Z?void 0:Z.showloading)&&(0,f.jsx)(m.Z,{}),(0,f.jsxs)("main",{children:[(0,f.jsx)("div",{className:"feedback-container",style:w?{}:{backgroundColor:"transparent"},children:(0,f.jsxs)("div",{className:"feedback",children:[(0,f.jsx)("span",{style:{visibility:"hidden"},children:"."}),w]})}),(0,f.jsxs)("div",{className:"page-heading",children:["ADDED NEW ",(0,f.jsx)("i",{children:(0,f.jsx)("b",{children:"VIDEO"})})]}),(0,f.jsx)("section",{className:"add-videos",children:(0,f.jsx)("form",{children:(0,f.jsx)("table",{children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"req",children:[(0,f.jsx)("label",{children:"Title"})," ",(0,f.jsx)("span",{children:"*"})]}),(0,f.jsx)("td",{children:(0,f.jsx)("input",{ref:x,placeholder:"Title"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"req",children:[(0,f.jsx)("label",{children:"YouTube link"})," ",(0,f.jsx)("span",{children:"*"})]}),(0,f.jsx)("td",{children:(0,f.jsx)("input",{ref:x,id:"youtube",className:"link",placeholder:"YouTube link"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"req",children:[(0,f.jsx)("label",{children:"Date released"})," ",(0,f.jsx)("span",{children:"*"})]}),(0,f.jsx)("td",{children:(0,f.jsx)("input",{ref:x,type:"date",id:"date",placeholder:"YYYY-MM-DD"})})]}),(0,f.jsxs)("tr",{style:{textAlign:"center"},children:[(0,f.jsx)("td",{children:(0,f.jsx)("button",{onClick:function(e){e.preventDefault(),C()},children:"Save"})}),(0,f.jsx)("td",{children:(0,f.jsx)("button",{onClick:function(e){var l,t;e.preventDefault(),i("/".concat(null===n||void 0===n||null===(l=n.stagenameInUrl)||void 0===l||null===(t=l.trim())||void 0===t?void 0:t.toLowerCase(),"/added-videos"))},children:"Cancel"})})]})]})})})})]})]})}},2359:function(){}}]);
//# sourceMappingURL=887.bc682bfc.chunk.js.map