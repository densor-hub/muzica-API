{"version":3,"file":"static/js/567.695cc2f8.chunk.js","mappings":"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","sources":["FNS/setStatuscodeErrorMessage.js","components/Private-Sites/sub-components/add-image.js"],"sourcesContent":["const setStatuscodeErrorMessage = (statuscode, setFeedback) => {\r\n    if (statuscode === 401) {\r\n        setFeedback(\"Unathorized...\")\r\n    }\r\n    else if (statuscode === 400) {\r\n        setFeedback('Bad request...')\r\n    }\r\n    else if (statuscode === 405) {\r\n        setFeedback('Method not allowed...');\r\n    }\r\n    else if (statuscode === 403) {\r\n        setFeedback(\"Error, request not allowed...\")\r\n    }\r\n    else if (statuscode === 404) {\r\n        setFeedback(\"Error, server rejected...\")\r\n    }\r\n    else if (statuscode === 409) {\r\n        setFeedback(\"Similar identity exists\")\r\n    }\r\n    else if (statuscode === 500) {\r\n        setFeedback(\"Internal error...\")\r\n    }\r\n}\r\n\r\nexport default setStatuscodeErrorMessage;","import axios from \"axios\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { API_BASE_URL } from \"../../../Resources/BaseURL\";\r\nimport useAuth from \"../../../customHooks/useAuth\";\r\nimport setStatuscodeErrorMessage from \"../../../FNS/setStatuscodeErrorMessage\";\r\nimport Loading from \"../../micro-components/loading\";\r\nimport GotoRefreshEndPoint from \"../../../FNS/GoToRefreshEndPoint\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport '../../micro-components/add-images.css';\r\nimport '../CSS/edit-audio-modal.css';\r\nimport '../CSS/added.css';\r\n\r\nconst AddImage = () => {\r\n    const { auth } = useAuth();\r\n    const navigateTo = useNavigate();\r\n    const [addedImages, setAddedImages] = useState('')\r\n    const [feedback, setFeedback] = useState('');\r\n    const [bools, setBools] = useState({ showloading: false });\r\n\r\n    const imageRef = useRef();\r\n    const addToImages = (e) => {\r\n\r\n        if (e.target.files.length > 5) {\r\n            setFeedback('Select not more than 5 files')\r\n        }\r\n        else {\r\n            //code is this way cos the idea was to manage multiple file uploads at a time (5 at a time)\r\n            for (var i = 0; i <= e.target.files.length; i++) {\r\n\r\n                if (i !== e.target.files.length) {\r\n                    setAddedImages([e.target.files[i]]);\r\n                }\r\n                // if (i === e.target.files.length) {\r\n                //         setFeedback(`${filename} size too large`)\r\n                // }\r\n            }\r\n        }\r\n    }\r\n\r\n    const Save = async () => {\r\n        const ImageformData = new FormData();\r\n        ImageformData?.append(\"file\", addedImages[0]);\r\n        ImageformData?.append(\"not_current_content\", true);\r\n\r\n        if (addedImages?.length > 0) {\r\n\r\n            setBools(p => { return { ...p, showloading: true } });\r\n            try {\r\n                let response = await axios.post(`${API_BASE_URL}/save-image`, ImageformData, { withCredentials: true })\r\n                if (response.status === 200) {\r\n                    navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-images`)\r\n                }\r\n            } catch (error) {\r\n                if (!error?.response?.data) {\r\n                    setBools(p => { return { ...p, showloading: false } });\r\n                    setFeedback('Network error...')\r\n                }\r\n                else {\r\n                    if (error?.response?.status === 401) {\r\n                        GotoRefreshEndPoint(auth).then((r) => {\r\n                            if (r.status === 200) {\r\n                                Save();\r\n                            } else {\r\n                                navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`);\r\n                            }\r\n                        })\r\n                    }\r\n                    else {\r\n                        setStatuscodeErrorMessage(error?.response?.status, setFeedback)\r\n                        setBools(p => { return { ...p, showloading: false } });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            setFeedback('Select image')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (feedback) {\r\n            setTimeout(() => {\r\n                setFeedback(\"\")\r\n            }, 3000);\r\n        }\r\n    }, [feedback])\r\n\r\n\r\n    return (\r\n        <>\r\n            {bools.showloading ? <Loading /> :\r\n                <main>\r\n                    <div className=\"feedback-container\" style={!feedback ? { backgroundColor: \"transparent\" } : {}}>\r\n                        <div className=\"feeback\"> <span style={{ visibility: \"hidden\" }}>.</span>{feedback}</div>\r\n                    </div>\r\n                    <div className=\"page-heading\">ADD NEW <i><b>IMAGE</b></i></div>\r\n\r\n\r\n                    {addedImages.length === 0 &&\r\n                        <section>\r\n                            <section className=\"add-images\">\r\n                                <form style={{ width: '100%', margin: '0 auto', textAlign: 'center', display: 'flex', justifyContent: 'center' }}>\r\n                                    <table style={{ margin: '0 auto' }}>\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td><label>Select images</label> </td>\r\n\r\n                                            </tr>\r\n                                            <tr style={{ textAlign: 'center', width: '100%', border: '1px solid white' }}>\r\n                                                <td><input style={{ width: \"0px\", height: \"0px\", overflow: \"hidden\" }} type={'file'} accept={'.png,.jpg,.jpeg,.svg'} ref={imageRef} onChange={(e) => { addToImages(e) }}></input>\r\n                                                    <button className=\"upload-image\" onClick={(e) => { e.preventDefault(); imageRef?.current?.click(); }}>Upload</button></td>\r\n                                            </tr>\r\n\r\n                                        </tbody>\r\n                                    </table>\r\n                                </form>\r\n                            </section>\r\n\r\n                        </section>\r\n                    }\r\n\r\n                    {addedImages.length > 0 && <section>\r\n\r\n                        <div className=\"image-viewer\">\r\n                            {addedImages.length > 0 && <img alt=\"\" src={addedImages[0] && URL.createObjectURL(addedImages[0])}></img>}\r\n\r\n                        </div>\r\n\r\n                        <section className=\"decision-buttons\" style={{ textAlign: \"center\" }}>\r\n                            {addedImages?.length > 0 && <button onClick={(e) => { e.preventDefault(); Save() }}>Save</button>}\r\n                            {addedImages?.length > 0 && <button onClick={(e) => { e.preventDefault(); navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-images`) }}>Cancel</button>}\r\n\r\n                        </section>\r\n\r\n                    </section>}\r\n\r\n                </main>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddImage;"],"names":["statuscode","setFeedback","auth","useAuth","navigateTo","useNavigate","_useState","useState","_useState2","_slicedToArray","addedImages","setAddedImages","_useState3","_useState4","feedback","_useState5","showloading","_useState6","bools","setBools","imageRef","useRef","Save","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ImageformData","_auth$stagenameInUrl","_auth$stagenameInUrl$","_error$response","_error$response2","_error$response3","wrap","_context","prev","next","FormData","append","length","p","_objectSpread","axios","concat","API_BASE_URL","withCredentials","sent","status","stagenameInUrl","trim","toLowerCase","t0","response","data","GotoRefreshEndPoint","then","r","_auth$stagenameInUrl2","_auth$stagenameInUrl3","setStatuscodeErrorMessage","stop","apply","arguments","useEffect","setTimeout","_jsx","_Fragment","children","Loading","_jsxs","className","style","backgroundColor","visibility","width","margin","textAlign","display","justifyContent","border","height","overflow","type","accept","ref","onChange","e","target","files","i","addToImages","onClick","_imageRef$current","preventDefault","current","click","alt","src","URL","createObjectURL","_auth$stagenameInUrl4","_auth$stagenameInUrl5"],"sourceRoot":""}