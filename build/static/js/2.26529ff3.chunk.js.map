{"version":3,"file":"static/js/2.26529ff3.chunk.js","mappings":"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","sources":["FNS/setStatuscodeErrorMessage.js","components/Private-Sites/sub-components/add-News.js"],"sourcesContent":["const setStatuscodeErrorMessage = (statuscode, setFeedback) => {\r\n    if (statuscode === 401) {\r\n        setFeedback(\"Unathorized...\")\r\n    }\r\n    else if (statuscode === 400) {\r\n        setFeedback('Bad request...')\r\n    }\r\n    else if (statuscode === 405) {\r\n        setFeedback('Method not allowed...');\r\n    }\r\n    else if (statuscode === 403) {\r\n        setFeedback(\"Error, request not allowed...\")\r\n    }\r\n    else if (statuscode === 404) {\r\n        setFeedback(\"Error, server rejected...\")\r\n    }\r\n    else if (statuscode === 409) {\r\n        setFeedback(\"Similar identity exists\")\r\n    }\r\n    else if (statuscode === 500) {\r\n        setFeedback(\"Internal error...\")\r\n    }\r\n}\r\n\r\nexport default setStatuscodeErrorMessage;","import axios from \"axios\";\nimport { useRef, useState } from \"react\";\nimport { API_BASE_URL } from \"../../../Resources/BaseURL\";\nimport GotoRefreshEndPoint from \"../../../FNS/GoToRefreshEndPoint\";\nimport setStatuscodeErrorMessage from \"../../../FNS/setStatuscodeErrorMessage\";\nimport useAuth from \"../../../customHooks/useAuth\";\nimport Loading from \"../../micro-components/loading\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport '../../micro-components/add-news.css';\nimport '../CSS/added.css';\n\nconst AddNews = () => {\n    const themeColor = { valid: \"white\", error: \"rgb(255, 71, 86)\" }\n    const { auth } = useAuth();\n    const navigateTo = useNavigate();\n    const [bools, setBools] = useState({ showloading: false });\n    const [feedback, setFeedback] = useState('');\n    const inputRefs = useRef([]);\n    const addToInputRefs = (element) => {\n        if (element && !inputRefs.current.includes(element)) {\n            inputRefs.current.push(element)\n        }\n        else {\n            inputRefs.current.pop(element);\n        }\n    }\n\n\n\n\n    const saveNews = async () => {\n        const newsObject = { headline: inputRefs.current[0].value, details: inputRefs.current[1].value, not_current_content: true };\n        let requiredButEmpty = false;\n\n        inputRefs?.current.forEach(element => {\n            if (element?.value === \"\") {\n                element.style.borderBottom = `3px solid ${themeColor?.error}`;\n                requiredButEmpty = true;\n            }\n            else {\n                element.style.borderBottom = `3px solid ${themeColor?.valid}`\n            }\n        })\n\n        if (requiredButEmpty) {\n            setFeedback(\"Enter all fields\")\n        }\n        else {\n            setBools(p => { return { ...p, showloading: true } });\n\n            try {\n                let response = await axios.post(`${API_BASE_URL}/save-news`, newsObject, { withCredentials: true });\n\n                if (response.status === 200) {\n                    // setBools(p=>{return {...p, showloading : false}});\n                    // setFeedback('Saved successfully, redirecting...');\n                    // clearNews();\n                    // setTimeout(()=>{\n                    navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-news`)\n                    //},2000)\n                }\n            } catch (error) {\n                if (!error?.response?.data) {\n                    console.log(error);\n                    setBools(p => { return { ...p, showloading: false } });\n                    setFeedback('Network error...')\n                }\n                else {\n                    if (error?.response?.status === 401) {\n                        GotoRefreshEndPoint(auth).then((r) => {\n                            if (r.status === 200) {\n                                saveNews();\n                            } else {\n                                navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`);\n                            }\n                        })\n                    }\n                    else {\n                        setStatuscodeErrorMessage(error?.response?.status, setFeedback)\n                        setBools(p => { return { ...p, showloading: false } });\n                    }\n                }\n            }\n        }\n    }\n\n\n    return (\n        <>\n            {bools?.showloading && <Loading />}\n            {\n                <main >\n\n                    <div className=\"feedback-container\" style={!feedback ? { backgroundColor: \"transparent\" } : {}}>\n                        <div className=\"feeback\"> <span style={{ visibility: \"hidden\" }}>.</span>{!bools?.showDeleteModal && feedback}</div>\n                    </div>\n\n                    <div className=\"page-heading\">ADD <i><b>NEWS</b></i></div>\n\n\n\n                    <section className=\"add-news\" >\n                        <form>\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td className=\"label\"><label>Headline</label><span>*</span></td>\n                                        <td><input type={'text'} ref={addToInputRefs} placeholder={'News headline'}></input></td>\n                                    </tr>\n\n                                    <tr>\n                                        <td className=\"label\"><label>Details</label> <span>*</span></td>\n                                        <td><textarea ref={addToInputRefs} placeholder={'Description'}></textarea></td>\n                                    </tr>\n\n                                    <tr style={{ textAlign: \"center\" }}>\n                                        <td><button onClick={(e) => { e.preventDefault(); saveNews(); }}>Save</button></td>\n                                        <td><button onClick={(e) => { e.preventDefault(); navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-news`) }}>Cancel</button></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </form>\n                    </section>\n\n                </main>}\n\n        </>\n    )\n}\n\nexport default AddNews;"],"names":["statuscode","setFeedback","themeColor","valid","error","auth","useAuth","navigateTo","useNavigate","useState","showloading","bools","setBools","feedback","inputRefs","useRef","addToInputRefs","element","current","includes","push","pop","saveNews","newsObject","headline","value","details","not_current_content","requiredButEmpty","forEach","style","borderBottom","p","axios","API_BASE_URL","withCredentials","status","stagenameInUrl","trim","toLowerCase","response","data","GotoRefreshEndPoint","then","r","setStatuscodeErrorMessage","console","log","className","backgroundColor","visibility","showDeleteModal","type","ref","placeholder","textAlign","onClick","e","preventDefault"],"sourceRoot":""}