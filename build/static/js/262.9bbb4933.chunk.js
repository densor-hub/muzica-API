"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[262],{6638:function(e,n){n.Z=function(e,n){401===e?n("Unathorized..."):400===e?n("Bad request..."):405===e?n("Method not allowed..."):403===e?n("Error, request not allowed..."):404===e?n("Error, server rejected..."):409===e?n("Similar identity exists"):500===e&&n("Internal error...")}},7262:function(e,n,t){t.r(n);var l=t(4165),o=t(1413),i=t(5861),r=t(885),s=t(4569),a=t.n(s),d=t(2791),c=t(408),u=t(5332),v=t(6638),h=t(3465),p=t(8781),x=t(6871),f=(t(6155),t(6477),t(184));n.default=function(){var e={valid:"white",error:"rgb(255, 71, 86)"},n=(0,h.Z)().auth,t=(0,x.s0)(),s=(0,d.useState)({showloading:!1}),w=(0,r.Z)(s,2),j=w[0],m=w[1],Z=(0,d.useState)(""),b=(0,r.Z)(Z,2),g=b[0],k=b[1],C=(0,d.useRef)([]),y=(0,d.useState)([]),N=(0,r.Z)(y,2),E=N[0],D=N[1],I=function(e){e&&!C.current.includes(e)?C.current.push(e):C.current.pop(e)},S=(0,d.useCallback)((0,i.Z)((0,l.Z)().mark((function e(){var i,r,s,d,h,p;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a().get("".concat(c.C,"/get-news:").concat(null===(i=window.location.pathname)||void 0===i?void 0:i.split(":")[1]),{withCredentials:!0});case 3:r=e.sent,console.log(r),200===(null===r||void 0===r?void 0:r.status)&&D(null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),null!==e.t0&&void 0!==e.t0&&null!==(d=e.t0.response)&&void 0!==d&&d.data?401===(null===e.t0||void 0===e.t0||null===(h=e.t0.response)||void 0===h?void 0:h.status)?(0,u.Z)(n).then((function(e){var l,o;200===e.status?S():t("/".concat(null===n||void 0===n||null===(l=n.stagenameInUrl)||void 0===l||null===(o=l.trim())||void 0===o?void 0:o.toLowerCase(),"/sign-out"))})):(m((function(e){return(0,o.Z)((0,o.Z)({},e),{},{showloading:!1})})),(0,v.Z)(null===e.t0||void 0===e.t0||null===(p=e.t0.response)||void 0===p?void 0:p.status,k)):k("Network challenges...");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[n,t]);(0,d.useEffect)((function(){S()}),[S]);var U=function(){var r=(0,i.Z)((0,l.Z)().mark((function i(){var r,s,d,h,p,x,f,w;return(0,l.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(r={headline:C.current[0].value,details:C.current[1].value},s=!1,null===C||void 0===C||C.current.forEach((function(n){""===(null===n||void 0===n?void 0:n.value)?(n.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.error),s=!0):n.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.valid)})),!s){l.next=7;break}k("Enter all fields"),l.next=18;break;case 7:return m((function(e){return(0,o.Z)((0,o.Z)({},e),{},{showloading:!0})})),l.prev=8,l.next=11,a().patch("".concat(c.C,"/update-news:").concat(null===(d=window.location.pathname)||void 0===d?void 0:d.split(":")[1]),r,{withCredentials:!0});case 11:200===l.sent.status&&t("/".concat(null===n||void 0===n||null===(h=n.stagenameInUrl)||void 0===h||null===(p=h.trim())||void 0===p?void 0:p.toLowerCase(),"/added-news")),l.next=18;break;case 15:l.prev=15,l.t0=l.catch(8),null!==l.t0&&void 0!==l.t0&&null!==(x=l.t0.response)&&void 0!==x&&x.data?401===(null===l.t0||void 0===l.t0||null===(f=l.t0.response)||void 0===f?void 0:f.status)?(0,u.Z)(n).then((function(e){var l,o;200===e.status?U():t("/".concat(null===n||void 0===n||null===(l=n.stagenameInUrl)||void 0===l||null===(o=l.trim())||void 0===o?void 0:o.toLowerCase(),"/sign-out"))})):((0,v.Z)(null===l.t0||void 0===l.t0||null===(w=l.t0.response)||void 0===w?void 0:w.status,k),m((function(e){return(0,o.Z)((0,o.Z)({},e),{},{showloading:!1})}))):(console.log(l.t0),m((function(e){return(0,o.Z)((0,o.Z)({},e),{},{showloading:!1})})),k("Network error..."));case 18:case"end":return l.stop()}}),i,null,[[8,15]])})));return function(){return r.apply(this,arguments)}}();return(0,f.jsxs)(f.Fragment,{children:[(null===j||void 0===j?void 0:j.showloading)&&(0,f.jsx)(p.Z,{}),(0,f.jsxs)("main",{children:[(0,f.jsx)("div",{className:"feedback-container",style:g?{}:{backgroundColor:"transparent"},children:(0,f.jsxs)("div",{className:"feeback",children:[" ",(0,f.jsx)("span",{style:{visibility:"hidden"},children:"."}),!(null!==j&&void 0!==j&&j.showDeleteModal)&&g]})}),(0,f.jsxs)("div",{className:"page-heading",children:["EDIT ",(0,f.jsx)("i",{children:(0,f.jsx)("b",{children:"NEWS"})})]}),(0,f.jsx)("section",{className:"add-news",children:(0,f.jsx)("form",{children:(0,f.jsx)("table",{children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"label",children:[(0,f.jsx)("label",{children:"Headline"}),(0,f.jsx)("span",{children:"*"})]}),(0,f.jsx)("td",{children:(0,f.jsx)("input",{type:"text",ref:I,defaultValue:null===E||void 0===E?void 0:E.headline,placeholder:"News headline"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"label",children:[(0,f.jsx)("label",{children:"Details"})," ",(0,f.jsx)("span",{children:"*"})]}),(0,f.jsx)("td",{children:(0,f.jsx)("textarea",{ref:I,defaultValue:E.details,placeholder:"Description"})})]}),(0,f.jsxs)("tr",{style:{textAlign:"center"},children:[(0,f.jsx)("td",{children:(0,f.jsx)("button",{onClick:function(e){e.preventDefault(),U()},children:"Save"})}),(0,f.jsx)("td",{children:(0,f.jsx)("button",{onClick:function(e){var l,o;e.preventDefault(),t("/".concat(null===n||void 0===n||null===(l=n.stagenameInUrl)||void 0===l||null===(o=l.trim())||void 0===o?void 0:o.toLowerCase(),"/added-news"))},children:"Cancel"})})]})]})})})})]})]})}},6155:function(){}}]);
//# sourceMappingURL=262.9bbb4933.chunk.js.map