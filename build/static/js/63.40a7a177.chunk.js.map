{"version":3,"file":"static/js/63.40a7a177.chunk.js","mappings":"4FAwBA,IAxBkC,SAACA,EAAYC,GACxB,MAAfD,EACAC,EAAY,kBAEQ,MAAfD,EACLC,EAAY,kBAEQ,MAAfD,EACLC,EAAY,yBAEQ,MAAfD,EACLC,EAAY,iCAEQ,MAAfD,EACLC,EAAY,6BAEQ,MAAfD,EACLC,EAAY,2BAEQ,MAAfD,GACLC,EAAY,oBAEpB,C,iKCkCA,UA/CgB,WACd,IAAMC,GAAaC,EAAAA,EAAAA,MACnBC,GAA0BC,EAAAA,EAAAA,KAAlBC,EAAIF,EAAJE,KAAMC,EAAOH,EAAPG,QACdC,GAAsCC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7CI,EAAWF,EAAA,GAAEG,EAAcH,EAAA,GAClCI,GAA+BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAApCE,EAAOD,EAAA,GAAEd,EAAWc,EAAA,GAIrBE,GAAUC,EAAAA,EAAAA,cAAWC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAC,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEH,OAFGF,EAAAC,KAAA,EAExBf,GAAe,GAAMc,EAAAE,KAAA,EACAC,IAAAA,IAAU,GAADC,OAAIC,EAAAA,EAAY,WAAW,CACvDC,iBAAiB,IAChB,KAAD,EAEuB,OAAb,QAJRV,EAAQI,EAAAO,YAIA,IAARX,OAAQ,EAARA,EAAUY,UACZ5B,EAAQ,IACRL,EAAW,WACZyB,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAS,GAAAT,EAAA,SAE+B,OAA5B,OAAAA,EAAAS,SAAA,IAAAT,EAAAS,IAAe,QAAfZ,EAAAG,EAAAS,GAAOb,gBAAQ,IAAAC,OAAf,EAAAA,EAAiBW,SACnBE,EAAAA,EAAAA,GAAoB/B,GAAMgC,MAAK,SAACC,GACb,MAAbA,EAAEJ,QACJK,QAAQC,IAAIF,EAAEJ,QACdlB,KAEAf,EAAW,SAEf,KAEAwC,EAAAA,EAAAA,GAAyB,OAAAf,EAAAS,SAAA,IAAAT,EAAAS,IAAgB,QAAhBX,EAACE,EAAAS,GAAOb,gBAAQ,IAAAE,OAAhB,EAACA,EAAiBU,OAAQlC,GACpD,yBAAA0B,EAAAgB,OAAA,GAAArB,EAAA,kBAEF,CAACf,EAASL,EAAYI,IAMzB,OAJAsC,EAAAA,EAAAA,YAAU,WACR3B,GACF,GAAG,CAACA,KAGF4B,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACG/B,IAAWgC,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEC,UAAW,UAAWH,SAAE/B,IACjDJ,GAAeN,GAAO0C,EAAAA,EAAAA,KAACG,EAAAA,EAAO,KAAMH,EAAAA,EAAAA,KAACI,EAAAA,GAAQ,CAACC,GAAI,aAGzD,C","sources":["FNS/setStatuscodeErrorMessage.js","components/micro-components/sign-out.js"],"sourcesContent":["const setStatuscodeErrorMessage = (statuscode, setFeedback) => {\r\n    if (statuscode === 401) {\r\n        setFeedback(\"Unathorized...\")\r\n    }\r\n    else if (statuscode === 400) {\r\n        setFeedback('Bad request...')\r\n    }\r\n    else if (statuscode === 405) {\r\n        setFeedback('Method not allowed...');\r\n    }\r\n    else if (statuscode === 403) {\r\n        setFeedback(\"Error, request not allowed...\")\r\n    }\r\n    else if (statuscode === 404) {\r\n        setFeedback(\"Error, server rejected...\")\r\n    }\r\n    else if (statuscode === 409) {\r\n        setFeedback(\"Similar identity exists\")\r\n    }\r\n    else if (statuscode === 500) {\r\n        setFeedback(\"Internal error...\")\r\n    }\r\n}\r\n\r\nexport default setStatuscodeErrorMessage;","import useAuth from \"../../customHooks/useAuth\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { API_BASE_URL } from \"../../Resources/BaseURL\";\r\nimport axios from \"axios\";\r\nimport Loading from \"./loading\";\r\nimport GotoRefreshEndPoint from \"../../FNS/GoToRefreshEndPoint\";\r\nimport setStatuscodeErrorMessage from \"../../FNS/setStatuscodeErrorMessage\";\r\n\r\nconst SignOut = () => {\r\n  const navigateTo = useNavigate();\r\n  const { auth, setAuth } = useAuth();\r\n  const [showLoading, setShowLoading] = useState(true);\r\n  const [feeback, setFeedback] = useState(\"\");\r\n\r\n  //this signout only runs a useEffect that sign a user out locally\r\n  //in profile-Menu-component( found in private sites sub components), auth0 signout app component is imported to sort out auth0 signout\r\n  const signout = useCallback(async () => {\r\n    try {\r\n      setShowLoading(true);\r\n      let response = await axios.get(`${API_BASE_URL}/logout`, {\r\n        withCredentials: true,\r\n      });\r\n\r\n      if (response?.status === 200) {\r\n        setAuth(\"\");\r\n        navigateTo(\"/login\");\r\n      }\r\n    } catch (error) {\r\n      if (error?.response?.status === 401) {\r\n        GotoRefreshEndPoint(auth).then((r) => {\r\n          if (r.status === 200) {\r\n            console.log(r.status);\r\n            signout();\r\n          } else {\r\n            navigateTo(`/login`);\r\n          }\r\n        });\r\n      } else {\r\n        setStatuscodeErrorMessage(error?.response?.status, setFeedback);\r\n      }\r\n    }\r\n  }, [setAuth, navigateTo, auth]);\r\n\r\n  useEffect(() => {\r\n    signout();\r\n  }, [signout]);\r\n\r\n  return (\r\n    <>\r\n      {feeback && <div style={{ textAlign: \"center\" }}>{feeback}</div>}\r\n      {showLoading && auth ? <Loading /> : <Navigate to={\"/login\"} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignOut;\r\n"],"names":["statuscode","setFeedback","navigateTo","useNavigate","_useAuth","useAuth","auth","setAuth","_useState","useState","_useState2","_slicedToArray","showLoading","setShowLoading","_useState3","_useState4","feeback","signout","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_error$response","_error$response2","wrap","_context","prev","next","axios","concat","API_BASE_URL","withCredentials","sent","status","t0","GotoRefreshEndPoint","then","r","console","log","setStatuscodeErrorMessage","stop","useEffect","_jsxs","_Fragment","children","_jsx","style","textAlign","Loading","Navigate","to"],"sourceRoot":""}