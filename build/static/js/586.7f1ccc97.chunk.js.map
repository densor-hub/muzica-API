{"version":3,"file":"static/js/586.7f1ccc97.chunk.js","mappings":"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","sources":["FNS/setStatuscodeErrorMessage.js","components/Private-Sites/sub-components/edit-biography.js"],"sourcesContent":["const setStatuscodeErrorMessage = (statuscode, setFeedback) => {\r\n    if (statuscode === 401) {\r\n        setFeedback(\"Unathorized...\")\r\n    }\r\n    else if (statuscode === 400) {\r\n        setFeedback('Bad request...')\r\n    }\r\n    else if (statuscode === 405) {\r\n        setFeedback('Method not allowed...');\r\n    }\r\n    else if (statuscode === 403) {\r\n        setFeedback(\"Error, request not allowed...\")\r\n    }\r\n    else if (statuscode === 404) {\r\n        setFeedback(\"Error, server rejected...\")\r\n    }\r\n    else if (statuscode === 409) {\r\n        setFeedback(\"Similar identity exists\")\r\n    }\r\n    else if (statuscode === 500) {\r\n        setFeedback(\"Internal error...\")\r\n    }\r\n}\r\n\r\nexport default setStatuscodeErrorMessage;","import { useCallback, useRef, useState, useEffect } from \"react\";\nimport { API_BASE_URL } from '../../../Resources/BaseURL';\nimport GotoRefreshEndPoint from '../../../FNS/GoToRefreshEndPoint';\nimport setStatuscodeErrorMessage from '../../../FNS/setStatuscodeErrorMessage';\nimport useAuth from '../../../customHooks/useAuth';\nimport axios from \"axios\";\nimport Loading from \"../../micro-components/loading\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport '../../micro-components/add-news.css';\nimport '../CSS/added.css';\n\nconst AddBiograpgy = () => {\n    const { auth } = useAuth();\n    const navigateTo = useNavigate();\n    const themeColrs = { error: \"rgb(255, 71, 86)\", valid: 'white' };\n\n    const [bools, setBools] = useState({ showloading: false })\n    const inputRefs = useRef([]);\n    const [selectedToEdit, setSelectedToEdit] = useState('');\n    const [feedback, setFeedback] = useState(\"\")\n\n    const addToInputRefs = (element) => {\n        if (element && !inputRefs.current.includes(element)) {\n            inputRefs.current.push(element)\n        }\n        else {\n            inputRefs.current.pop(element);\n        }\n    }\n\n    const saveBio = async () => {\n        inputRefs.current[0].style.borderBottom = `3px solid ${themeColrs?.error}`;\n        setSelectedToEdit(inputRefs.current[0].value);\n\n        const bioObject = { biography: inputRefs.current[0]?.value, not_current_content: true }\n\n        if (inputRefs.current[0].value === \"\") {\n            setFeedback(\"Enter all fields\");\n        }\n        else {\n            if (inputRefs.current[0]?.value?.length < 100) {\n                setFeedback('Enter at least 100 characters')\n            } else {\n                inputRefs.current[0].style.borderBottom = `3px solid ${themeColrs?.valid}`;\n                setBools(p => { return { ...p, showloading: true } });\n\n                try {\n                    let response = await axios.post(`${API_BASE_URL}/save-biography`, bioObject, { withCredentials: true });\n                    if (response.status === 200 || response?.status === 204) {\n                        //setBools(p=>{return {...p, showloading : false}});\n                        //setFeedback(\"Saved successfully, redirecting...\")\n\n                        //setTimeout(()=>{\n                        navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-biography`)\n                        //},2000)\n                    }\n\n                } catch (error) {\n                    console.log(error);\n                    if (!error?.response?.data) {\n                        setBools(p => { return { ...p, showloading: false } });\n                        setFeedback('Network error...')\n                    }\n                    else {\n                        if (error?.response?.status === 401) {\n                            GotoRefreshEndPoint(auth).then((r) => {\n                                if (r.status === 200) {\n                                    saveBio();\n                                } else {\n                                    navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`);\n                                }\n                            })\n                        }\n                        else {\n                            setStatuscodeErrorMessage(error?.response?.status, setFeedback)\n                            setBools(p => { return { ...p, showloading: false } });\n                        }\n                    }\n                }\n            }\n        }\n    }\n    // const clearBio=()=>{\n    //     inputRefs.current[0].value =\"\";\n    //     inputRefs.current[0].style.borderBottom = `3px solid ${themeColrs?.valid}`;\n    // }\n\n\n\n    const getSelectedItem = useCallback(\n        async () => {\n            try {\n                let response = await axios.get(`${API_BASE_URL}/get-biography:${window.location.pathname?.split(':')[1]}`, { withCredentials: true });\n\n                if (response?.status === 200) {\n                    setSelectedToEdit(response?.data?.results);\n                }\n\n            } catch (error) {\n                console.log(error);\n                if (!error?.response?.data) {\n                    setFeedback('Network challenges...')\n                }\n                else {\n                    if (error?.response?.status === 401) {\n                        GotoRefreshEndPoint(auth).then((r) => {\n                            if (r.status === 200) {\n                                getSelectedItem();\n                            } else {\n                                navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`);\n                            }\n                        })\n                    }\n                    else {\n                        setBools((p) => { return { ...p, showloading: false } })\n                        setStatuscodeErrorMessage(error?.response?.status, setFeedback)\n                    }\n                }\n\n            }\n        }, [auth, navigateTo]\n    )\n\n    useEffect(() => {\n        getSelectedItem();\n    }, [getSelectedItem])\n\n    return (\n        <>\n            {bools?.showloading && <Loading />}\n            <main >\n                <div className=\"feedback-container\" style={!feedback ? { backgroundColor: \"transparent\" } : {}}>\n                    <div className=\"feeback\">{!bools?.showDeleteModal && feedback}</div>\n                </div>\n\n                <div className=\"page-heading\">EDIT <i><b>BIO</b></i></div>\n\n\n                <section className=\"add-news\">\n                    <form>\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <td className=\"label\"><label>Biography</label> <span>*</span></td>\n                                    <td><textarea ref={addToInputRefs} defaultValue={selectedToEdit?.biography}></textarea></td>\n                                </tr>\n\n                                <tr>\n                                    <td><button onClick={(e) => { e.preventDefault(); saveBio() }}>Save</button></td>\n                                    <td><button onClick={(e) => { e.preventDefault(); navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-biography`) }}>Cancel</button></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </form>\n                </section>\n            </main>\n        </>\n    )\n}\nexport default AddBiograpgy;"],"names":["statuscode","setFeedback","auth","useAuth","navigateTo","useNavigate","themeColrs","error","valid","useState","showloading","bools","setBools","inputRefs","useRef","selectedToEdit","setSelectedToEdit","feedback","saveBio","current","style","borderBottom","value","bioObject","biography","not_current_content","length","p","axios","API_BASE_URL","withCredentials","response","status","stagenameInUrl","trim","toLowerCase","console","log","data","GotoRefreshEndPoint","then","r","setStatuscodeErrorMessage","getSelectedItem","useCallback","window","location","pathname","split","results","useEffect","className","backgroundColor","showDeleteModal","ref","element","includes","push","pop","defaultValue","onClick","e","preventDefault"],"sourceRoot":""}