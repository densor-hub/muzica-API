"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[46],{5858:function(n,e,i){i.d(e,{MH:function(){return d},Nd:function(){return l},Wh:function(){return t},xm:function(){return s}});var s=function(n){return!!(n.includes("A")||n.includes("B")||n.includes("C")||n.includes("D")||n.includes("E")||n.includes("F")||n.includes("G")||n.includes("H")||n.includes("I")||n.includes("J")||n.includes("K")||n.includes("L")||n.includes("M")||n.includes("N")||n.includes("O")||n.includes("P")||n.includes("Q")||n.includes("R")||n.includes("S")||n.includes("T")||n.includes("U")||n.includes("V")||n.includes("W")||n.includes("X")||n.includes("Y")||n.includes("Z"))},l=function(n){return!!(n.includes("a")||n.includes("b")||n.includes("c")||n.includes("d")||n.includes("e")||n.includes("f")||n.includes("g")||n.includes("h")||n.includes("i")||n.includes("j")||n.includes("k")||n.includes("l")||n.includes("m")||n.includes("n")||n.includes("o")||n.includes("p")||n.includes("q")||n.includes("r")||n.includes("s")||n.includes("t")||n.includes("u")||n.includes("v")||n.includes("w")||n.includes("x")||n.includes("y")||n.includes("z"))},d=function(n){return!!(n.includes("~")||n.includes("!")||n.includes("@")||n.includes("#")||n.includes("$")||n.includes("%")||n.includes("^")||n.includes("&")||n.includes("*")||n.includes("(")||n.includes(")")||n.includes("-")||n.includes("_")||n.includes("=")||n.includes("+")||n.includes("?")||n.includes("/")||n.includes(".")||n.includes(">")||n.includes(",")||n.includes("<")||n.includes("|")||n.includes("\xa3")||n.includes("`")||n.includes("[")||n.includes("{")||n.includes("]")||n.includes("}")||n.includes("|"))},t=function(n){return!!(String(n).includes("0")||String(n).includes("1")||String(n).includes("2")||String(n).includes("3")||String(n).includes("4")||String(n).includes("5")||String(n).includes("6")||String(n).includes("7")||String(n).includes("8")||String(n).includes("9"))}},6638:function(n,e){e.Z=function(n,e){401===n?e("Unathorized..."):400===n?e("Bad request..."):405===n?e("Method not allowed..."):403===n?e("Error, request not allowed..."):404===n?e("Error, server rejected..."):409===n?e("Similar identity exists"):500===n&&e("Internal error...")}},1046:function(n,e,i){i.r(e);var s=i(4165),l=i(5861),d=i(1413),t=i(9439),r=i(1087),u=i(7689),c=i(3700),o=i(8781),a=i(2791),v=i(3465),h=i(5858),f=i(4569),x=i.n(f),p=i(408),m=i(6638),j=i(9126),w=i(8820),g=(i(9340),i(184));e.default=function(n){var e,i,f=n.Parentfeedback,y=(0,v.Z)(),N=y.setAuth,b=y.auth,Z=(0,u.s0)(),k=(0,u.TH)(),S=(0,a.useState)(""),C=(0,t.Z)(S,2),P=C[0],U=C[1],D=(0,a.useState)(""),E=(0,t.Z)(D,2),H=E[0],I=E[1],M=(0,a.useState)({showloading:!1,showPassword:!1}),W=(0,t.Z)(M,2),A=W[0],F=W[1],z=(0,a.useRef)([]),L=function(n){var e,i,s;!n||null!==(e=z.current)&&void 0!==e&&e.includes(n)?null===z||void 0===z||null===(i=z.current)||void 0===i||i.pop(n):null===z||void 0===z||null===(s=z.current)||void 0===s||s.push(n)},q=function(){z.current.find((function(n){return"password"===n.className})).type="text",F((function(n){return(0,d.Z)((0,d.Z)({},n),{},{showPassword:!0})}))},B=function(){var n=(0,l.Z)((0,s.Z)().mark((function n(){var e,i,l,t,r,u,o,a,v,f,j,w;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(I(""),I(""),z.current.forEach((function(n){var i;"password"===n.className&&((e=null===n||void 0===n?void 0:n.value)?(null===(i=e)||void 0===i?void 0:i.length)<8?I("Phone number or password incorrect"):(0,h.Wh)(e)&&(0,h.xm)(e)&&(0,h.Nd)(e)||(0,h.MH)(e)&&(0,h.xm)(e)&&(0,h.Nd)(e)||(0,h.Wh)(e)&&(0,h.xm)(e)&&(0,h.Nd)(e)&&(0,h.MH)(e)||I("Phone number or password incorrect"):I("Enter all fields"));"PhoneInputInput"===n.className&&(P?P&&!(0,c.yf)(P)&&I("Phone number or password incorrect"):I("Enter all fields"))})),""===P||void 0===P||!(0,c.yf)(P)||""===e||void 0===e||!((0,h.Wh)(e)&&(0,h.xm)(e)&&(0,h.Nd)(e)||(0,h.MH)(e)&&(0,h.xm)(e)&&(0,h.Nd)(e)||(0,h.Wh)(e)&&(0,h.xm)(e)&&(0,h.Nd)(e)&&(0,h.MH)(e))){n.next=18;break}return i={username:P,password:e},n.prev=5,F((function(n){return(0,d.Z)((0,d.Z)({},n),{},{showloading:!0})})),n.next=9,x().post("".concat(p.C,"/sign-in/local"),i,{withCredentials:!0});case 9:200===(null===(l=n.sent)||void 0===l?void 0:l.status)&&(x().defaults.headers.common.Authorization="Bearer ".concat(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.accessToken),N(null===l||void 0===l?void 0:l.data),F((function(n){return(0,d.Z)((0,d.Z)({},n),{},{showloading:!1})})),null!==k&&void 0!==k&&k.state?Z("".concat(null===k||void 0===k||null===(r=k.state)||void 0===r||null===(u=r.trim())||void 0===u?void 0:u.toLowerCase())):Z("/".concat(null===l||void 0===l||null===(o=l.data)||void 0===o||null===(a=o.stagenameInUrl)||void 0===a||null===(v=a.trim())||void 0===v?void 0:v.toLowerCase()))),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(5),console.log(n.t0),F((function(n){return(0,d.Z)((0,d.Z)({},n),{},{showloading:!1})})),null!==n.t0&&void 0!==n.t0&&null!==(f=n.t0.response)&&void 0!==f&&f.data?405===(null===n.t0||void 0===n.t0||null===(j=n.t0.response)||void 0===j?void 0:j.status)?I("Wrong username or password"):(0,m.Z)(null===n.t0||void 0===n.t0||null===(w=n.t0.response)||void 0===w?void 0:w.status,I):I("Network error...");case 18:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(){return n.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[""===(null===b||void 0===b?void 0:b.stagenameInUrl)||null===(null===b||void 0===b?void 0:b.stagenameInUrl)||void 0===(null===b||void 0===b?void 0:b.stagenameInUrl)?(0,g.jsxs)("main",{className:"signin-container",children:[(0,g.jsxs)("header",{children:[(0,g.jsx)(r.rU,{to:"/",children:"Home"}),(0,g.jsx)(r.rU,{to:"/register",children:"Sign up"})]}),(0,g.jsx)("div",{className:"form-container",children:(0,g.jsxs)("div",{className:"content",children:[(0,g.jsxs)("div",{className:"feedback",children:[(0,g.jsx)("span",{style:{visibility:"hidden",height:"0px",width:"0px",opacity:"0",overflow:"hidden"},children:"."}),H&&H," ",!H&&f&&f]}),(0,g.jsxs)("form",{children:[(0,g.jsx)("div",{className:"form-heading",children:(0,g.jsx)("b",{children:"Sign in"})}),(0,g.jsx)("table",{children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)("label",{children:"Phone"})}),(0,g.jsx)("td",{children:(0,g.jsx)("div",{children:(0,g.jsx)(c.ZP,{ref:L,onChange:U,value:P,defaultCountry:"GH",onKeyDown:function(n){var e;"Enter"===n.key&&(null===z||void 0===z||null===(e=z.current[1])||void 0===e||e.focus(),q())}})})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)("label",{children:"Password"})}),(0,g.jsx)("td",{children:(0,g.jsxs)("div",{className:"password",children:[(0,g.jsx)("input",{type:"password",autoComplete:"current-password",ref:L,className:"password",onKeyDown:function(n){var e;"Enter"===n.key&&(null===z||void 0===z||null===(e=z.current[2])||void 0===e||e.click(),q())}}),(0,g.jsx)("span",{children:null!==A&&void 0!==A&&A.showPassword?(0,g.jsx)("button",{onClick:function(n){n.preventDefault(),z.current.find((function(n){return"password"===n.className})).type="password",F((function(n){return(0,d.Z)((0,d.Z)({},n),{},{showPassword:!1})}))},children:(0,g.jsx)(j.$ge,{})}):(0,g.jsx)("button",{onClick:function(n){n.preventDefault(),q()},children:(0,g.jsx)(j.z0y,{})})})]})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{textAlign:"center"},children:(0,g.jsx)("button",{className:"submit",type:"submit",onClick:function(n){n.preventDefault(),B()},ref:L,children:"Sign in"})}),(0,g.jsx)("td",{style:{textAlign:"center"},children:(0,g.jsx)("button",{className:"submit",type:"reset",onClick:function(n){n.preventDefault(),z.current.forEach((function(n){n.value=""})),I("")},children:"Cancel"})})]})]})})]}),(0,g.jsx)("div",{className:"sign-in-with-google",children:(0,g.jsx)(r.rU,{to:"/reset-password",children:"Forgot password? "})}),(0,g.jsxs)("div",{className:"not-having-account",children:["Do not have an account? sign up"," ",(0,g.jsx)(r.rU,{to:"/register",children:"here"})," "]})]})}),(0,g.jsxs)("footer",{children:[" ",(0,g.jsx)("span",{style:{position:"relative",top:"2px"},children:(0,g.jsx)(w.ZVS,{})})," ",(new Date).getFullYear()," GoldCoast University"]})]}):(0,g.jsx)(u.Fg,{to:"/".concat(null===b||void 0===b||null===(e=b.stagenameInUrl)||void 0===e||null===(i=e.trim())||void 0===i?void 0:i.toLowerCase())}),(null===A||void 0===A?void 0:A.showloading)&&(0,g.jsx)(o.Z,{})]})}},9340:function(){}}]);
//# sourceMappingURL=46.d5ee6e4a.chunk.js.map