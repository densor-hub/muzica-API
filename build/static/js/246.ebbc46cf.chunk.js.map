{"version":3,"file":"static/js/246.ebbc46cf.chunk.js","mappings":"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","sources":["FNS/setStatuscodeErrorMessage.js","components/Private-Sites/sub-components/image-Viewer-modal.js","components/Public-sites/images-site.js"],"sourcesContent":["const setStatuscodeErrorMessage = (statuscode, setFeedback) => {\r\n    if (statuscode === 401) {\r\n        setFeedback(\"Unathorized...\")\r\n    }\r\n    else if (statuscode === 400) {\r\n        setFeedback('Bad request...')\r\n    }\r\n    else if (statuscode === 405) {\r\n        setFeedback('Method not allowed...');\r\n    }\r\n    else if (statuscode === 403) {\r\n        setFeedback(\"Error, request not allowed...\")\r\n    }\r\n    else if (statuscode === 404) {\r\n        setFeedback(\"Error, server rejected...\")\r\n    }\r\n    else if (statuscode === 409) {\r\n        setFeedback(\"Similar identity exists\")\r\n    }\r\n    else if (statuscode === 500) {\r\n        setFeedback(\"Internal error...\")\r\n    }\r\n}\r\n\r\nexport default setStatuscodeErrorMessage;","import { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { API_BASE_URL } from \"../../../Resources/BaseURL\";\r\nimport axios from \"axios\";\r\nimport GotoRefreshEndPoint from \"../../../FNS/GoToRefreshEndPoint\";\r\nimport setStatuscodeErrorMessage from \"../../../FNS/setStatuscodeErrorMessage\";\r\nimport useAuth from \"../../../customHooks/useAuth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Loading from \"../../micro-components/loading\";\r\nimport useConvertBufferArrayToUrl from \"../../../customHooks/useConvertBufferArrayToUrl\";\r\n\r\nimport \"../CSS/image-viewer.css\";\r\n\r\nconst ImageViewer = ({\r\n  addedImages,\r\n  setSelectedImage,\r\n  selectedImage,\r\n  setParentFeedback,\r\n  showDeleteButton,\r\n  getData,\r\n  setBools,\r\n}) => {\r\n  const navigateTo = useNavigate();\r\n  const { auth } = useAuth();\r\n  const [iterator, setIterator] = useState(selectedImage?.index);\r\n  const [showLoading, setShowLoading] = useState(false);\r\n  const [childFeedback, setChildFeedback] = useState(\"\");\r\n\r\n  const NextButtonRef = useRef();\r\n  const PreviousButtonRef = useRef();\r\n\r\n  let iterate = false;\r\n  const Next = () => {\r\n    iterate = true;\r\n    if (iterate && iterator !== addedImages?.length - 1) {\r\n      setIterator((p) => {\r\n        return p + 1;\r\n      });\r\n      iterate = false;\r\n    } else {\r\n      setIterator(0);\r\n      iterate = false;\r\n    }\r\n  };\r\n\r\n  const Previous = () => {\r\n    iterate = true;\r\n    if (iterate && !(iterator <= 0)) {\r\n      setIterator((p) => {\r\n        return p - 1;\r\n      });\r\n      iterate = false;\r\n    } else {\r\n      setIterator(addedImages?.length - 1);\r\n      iterate = false;\r\n    }\r\n  };\r\n\r\n  //close image viewer on press of escape\r\n  const CloseImageViewerOnPressOfEsc = useCallback(\r\n    (e) => {\r\n      if (e?.key === \"Escape\") {\r\n        setSelectedImage(\"\");\r\n      }\r\n    },\r\n    [setSelectedImage]\r\n  );\r\n  useEffect(() => {\r\n    document?.addEventListener(\"keydown\", CloseImageViewerOnPressOfEsc);\r\n    return () => {\r\n      document?.removeEventListener(\"keydown\", CloseImageViewerOnPressOfEsc);\r\n    };\r\n  }, [setSelectedImage, CloseImageViewerOnPressOfEsc]);\r\n\r\n  const Delete = async () => {\r\n    try {\r\n      setShowLoading(true);\r\n      let response = await axios.put(\r\n        `${API_BASE_URL}/delete-images:${addedImages[iterator]?._id}`,\r\n        { selectedItem: addedImages?.[iterator]?._id },\r\n        { withCredentials: true }\r\n      );\r\n\r\n      if (response?.status === 200) {\r\n        getData().then(() => {\r\n          setBools((p) => {\r\n            return { ...p, showDeleteModal: false };\r\n          });\r\n          setParentFeedback(\"Deleted successfully...\");\r\n          setSelectedImage(\"\");\r\n        });\r\n      } else if (response?.status === 204) {\r\n        setShowLoading(false);\r\n        setChildFeedback(\"Image already deleted..\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      if (!error?.response?.data) {\r\n        setShowLoading(false);\r\n        setChildFeedback(\"Network challenges...\");\r\n      } else {\r\n        if (error?.response?.status === 401) {\r\n          GotoRefreshEndPoint(auth).then((results) => {\r\n            if (results?.status === 200) {\r\n              Delete();\r\n            } else {\r\n              navigateTo(\r\n                `/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`\r\n              );\r\n            }\r\n          });\r\n        } else {\r\n          setShowLoading(false);\r\n          setStatuscodeErrorMessage(error?.response?.status, setChildFeedback);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showLoading && <Loading />}\r\n      <main className=\"image-viewer-container\">\r\n        <div className=\"close-button-container\">\r\n          <button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setSelectedImage(\"\");\r\n            }}\r\n          >\r\n            X\r\n          </button>\r\n        </div>\r\n        <div className=\"feedback-conatiner\">\r\n          <div className=\"feedback\" style={{ textAlign: \"center\" }}>\r\n            {childFeedback}\r\n          </div>\r\n        </div>\r\n        <div className=\"image-container\">\r\n          <img\r\n            alt={auth?.stagenameInUrl}\r\n            src={useConvertBufferArrayToUrl(addedImages[iterator])}\r\n          ></img>\r\n        </div>\r\n        <div className=\"navigation-buttons\">\r\n          <button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              Previous();\r\n            }}\r\n            ref={PreviousButtonRef}\r\n          >\r\n            Previous\r\n          </button>\r\n          {showDeleteButton && (\r\n            <button\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                Delete();\r\n              }}\r\n            >\r\n              Delete\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              Next();\r\n            }}\r\n            ref={NextButtonRef}\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\nexport default ImageViewer;\r\n","import { useState } from \"react\";\r\nimport ImageViewer from \"../Private-Sites/sub-components/image-Viewer-modal\";\r\nimport useConvertBufferArrayToUrl from \"../../customHooks/useConvertBufferArrayToUrl\";\r\nimport \"./CSS/image-site.css\";\r\n\r\nconst ImagesSite = ({ addedImages }) => {\r\n  const [selectedImage, setSelectedImage] = useState(\"\");\r\n  const [feedback, setFeedback] = useState(\"\");\r\n\r\n  console.log(useConvertBufferArrayToUrl(addedImages[0]));\r\n  return (\r\n    <>\r\n      <main className=\"image-site\">\r\n        <div className=\"large-icon\">Gallery</div>\r\n        <div className=\"feedback-container\">{feedback}</div>\r\n        {selectedImage?.length === 0 && addedImages?.length > 0 ? (\r\n          <section className=\"items-container\">\r\n            {addedImages\r\n              ?.sort((a, b) => {\r\n                return new Date(b?.datereleased) - new Date(a.datereleased);\r\n              })\r\n              .map((elements, index) => {\r\n                return (\r\n                  <div key={elements?._id} className=\"individual-item\">\r\n                    <Image\r\n                      alt={\"\"}\r\n                      element={elements}\r\n                      Index={index}\r\n                      setSelectedImage={setSelectedImage}\r\n                    ></Image>\r\n                  </div>\r\n                );\r\n              })}\r\n          </section>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              textAlign: \"center\",\r\n              color: \"white\",\r\n              border: \"1px solid white\",\r\n              margin: \"0 auto\",\r\n              padding: \"20px\",\r\n            }}\r\n          >\r\n            {\" \"}\r\n            check here from time to time for my images..\r\n          </div>\r\n        )}\r\n\r\n        {selectedImage && (\r\n          <ImageViewer\r\n            addedImages={addedImages}\r\n            selectedImage={selectedImage}\r\n            setSelectedImage={setSelectedImage}\r\n            setParentFeedback={setFeedback}\r\n            showDeleteButton={false}\r\n          />\r\n        )}\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImagesSite;\r\n\r\nconst Image = ({ element, style, alt, Index, setSelectedImage }) => {\r\n  return (\r\n    <img\r\n      src={useConvertBufferArrayToUrl(element)}\r\n      alt={alt}\r\n      style={{ ...style }}\r\n      onClick={(e) => {\r\n        setSelectedImage({\r\n          image: { _id: element?._id },\r\n          index: Index,\r\n        });\r\n      }}\r\n    ></img>\r\n  );\r\n};\r\n"],"names":["statuscode","setFeedback","_ref","addedImages","setSelectedImage","selectedImage","setParentFeedback","showDeleteButton","getData","setBools","navigateTo","useNavigate","auth","useAuth","_useState","useState","index","_useState2","_slicedToArray","iterator","setIterator","_useState3","_useState4","showLoading","setShowLoading","_useState5","_useState6","childFeedback","setChildFeedback","NextButtonRef","useRef","PreviousButtonRef","CloseImageViewerOnPressOfEsc","useCallback","e","key","useEffect","_document","document","addEventListener","_document2","removeEventListener","Delete","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_addedImages$iterator","_addedImages$iterator2","response","_error$response","_error$response2","_error$response3","wrap","_context","prev","next","axios","concat","API_BASE_URL","_id","selectedItem","withCredentials","sent","status","then","p","_objectSpread","showDeleteModal","t0","console","log","data","GotoRefreshEndPoint","results","_auth$stagenameInUrl","_auth$stagenameInUrl$","stagenameInUrl","trim","toLowerCase","setStatuscodeErrorMessage","stop","apply","arguments","_jsxs","_Fragment","children","_jsx","Loading","className","onClick","preventDefault","style","textAlign","alt","src","useConvertBufferArrayToUrl","length","ref","feedback","sort","a","b","Date","datereleased","map","elements","Image","element","Index","color","border","margin","padding","ImageViewer","image"],"sourceRoot":""}