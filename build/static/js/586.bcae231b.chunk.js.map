{"version":3,"file":"static/js/586.bcae231b.chunk.js","mappings":"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","sources":["FNS/setStatuscodeErrorMessage.js","components/Private-Sites/sub-components/edit-biography.js"],"sourcesContent":["const setStatuscodeErrorMessage = (statuscode, setFeedback) => {\r\n    if (statuscode === 401) {\r\n        setFeedback(\"Unathorized...\")\r\n    }\r\n    else if (statuscode === 400) {\r\n        setFeedback('Bad request...')\r\n    }\r\n    else if (statuscode === 405) {\r\n        setFeedback('Method not allowed...');\r\n    }\r\n    else if (statuscode === 403) {\r\n        setFeedback(\"Error, request not allowed...\")\r\n    }\r\n    else if (statuscode === 404) {\r\n        setFeedback(\"Error, server rejected...\")\r\n    }\r\n    else if (statuscode === 409) {\r\n        setFeedback(\"Similar identity exists\")\r\n    }\r\n    else if (statuscode === 500) {\r\n        setFeedback(\"Internal error...\")\r\n    }\r\n}\r\n\r\nexport default setStatuscodeErrorMessage;","import { useCallback, useRef, useState, useEffect } from \"react\";\r\nimport { API_BASE_URL } from \"../../../Resources/BaseURL\";\r\nimport GotoRefreshEndPoint from \"../../../FNS/GoToRefreshEndPoint\";\r\nimport setStatuscodeErrorMessage from \"../../../FNS/setStatuscodeErrorMessage\";\r\nimport useAuth from \"../../../customHooks/useAuth\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../../micro-components/loading\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport \"../../micro-components/add-news.css\";\r\nimport \"../CSS/added.css\";\r\n\r\nconst AddBiograpgy = () => {\r\n  const { auth } = useAuth();\r\n  const navigateTo = useNavigate();\r\n  const themeColrs = { error: \"rgb(255, 71, 86)\", valid: \"white\" };\r\n\r\n  const [bools, setBools] = useState({ showloading: false });\r\n  const inputRefs = useRef([]);\r\n  const [selectedToEdit, setSelectedToEdit] = useState(\"\");\r\n  const [feedback, setFeedback] = useState(\"\");\r\n\r\n  const addToInputRefs = (element) => {\r\n    if (element && !inputRefs.current.includes(element)) {\r\n      inputRefs.current.push(element);\r\n    } else {\r\n      inputRefs.current.pop(element);\r\n    }\r\n  };\r\n\r\n  const saveBio = async () => {\r\n    inputRefs.current[0].style.borderBottom = `3px solid ${themeColrs?.error}`;\r\n    setSelectedToEdit(inputRefs.current[0].value);\r\n\r\n    const bioObject = {\r\n      biography: inputRefs.current[0]?.value,\r\n      not_current_content: true,\r\n    };\r\n\r\n    if (inputRefs.current[0].value === \"\") {\r\n      setFeedback(\"Enter all fields\");\r\n    } else {\r\n      if (inputRefs.current[0]?.value?.length < 100) {\r\n        setFeedback(\"Enter at least 100 characters\");\r\n      } else {\r\n        inputRefs.current[0].style.borderBottom = `3px solid ${themeColrs?.valid}`;\r\n        setBools((p) => {\r\n          return { ...p, showloading: true };\r\n        });\r\n\r\n        try {\r\n          let response = await axios.post(\r\n            `${API_BASE_URL}/save-biography`,\r\n            bioObject,\r\n            { withCredentials: true }\r\n          );\r\n          if (response.status === 200 || response?.status === 204) {\r\n            //setBools(p=>{return {...p, showloading : false}});\r\n            //setFeedback(\"Saved successfully, redirecting...\")\r\n\r\n            //setTimeout(()=>{\r\n            navigateTo(\r\n              `/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-biography`\r\n            );\r\n            //},2000)\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n          if (!error?.response?.data) {\r\n            setBools((p) => {\r\n              return { ...p, showloading: false };\r\n            });\r\n            setFeedback(\"Network error...\");\r\n          } else {\r\n            if (error?.response?.status === 401) {\r\n              GotoRefreshEndPoint(auth).then((r) => {\r\n                if (r.status === 200) {\r\n                  saveBio();\r\n                } else {\r\n                  navigateTo(\r\n                    `/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`\r\n                  );\r\n                }\r\n              });\r\n            } else {\r\n              setStatuscodeErrorMessage(error?.response?.status, setFeedback);\r\n              setBools((p) => {\r\n                return { ...p, showloading: false };\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  // const clearBio=()=>{\r\n  //     inputRefs.current[0].value =\"\";\r\n  //     inputRefs.current[0].style.borderBottom = `3px solid ${themeColrs?.valid}`;\r\n  // }\r\n\r\n  const getSelectedItem = useCallback(async () => {\r\n    try {\r\n      let response = await axios.get(\r\n        `${API_BASE_URL}/get-biography:${\r\n          window.location.pathname?.split(\"/\")[\r\n            window.location.pathname?.split(\"/\").length - 1\r\n          ]\r\n        }`,\r\n        { withCredentials: true }\r\n      );\r\n\r\n      if (response?.status === 200) {\r\n        setSelectedToEdit(response?.data?.results);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      if (!error?.response?.data) {\r\n        setFeedback(\"Network challenges...\");\r\n      } else {\r\n        if (error?.response?.status === 401) {\r\n          GotoRefreshEndPoint(auth).then((r) => {\r\n            if (r.status === 200) {\r\n              getSelectedItem();\r\n            } else {\r\n              navigateTo(\r\n                `/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`\r\n              );\r\n            }\r\n          });\r\n        } else {\r\n          setBools((p) => {\r\n            return { ...p, showloading: false };\r\n          });\r\n          setStatuscodeErrorMessage(error?.response?.status, setFeedback);\r\n        }\r\n      }\r\n    }\r\n  }, [auth, navigateTo]);\r\n\r\n  useEffect(() => {\r\n    getSelectedItem();\r\n  }, [getSelectedItem]);\r\n\r\n  return (\r\n    <>\r\n      {bools?.showloading && <Loading />}\r\n      <main>\r\n        <div\r\n          className=\"feedback-container\"\r\n          style={!feedback ? { backgroundColor: \"transparent\" } : {}}\r\n        >\r\n          <div className=\"feeback\">{!bools?.showDeleteModal && feedback}</div>\r\n        </div>\r\n\r\n        <div className=\"page-heading\">\r\n          EDIT{\" \"}\r\n          <i>\r\n            <b>BIO</b>\r\n          </i>\r\n        </div>\r\n\r\n        <section className=\"add-news\">\r\n          <form>\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <td className=\"label\">\r\n                    <label>Biography</label> <span>*</span>\r\n                  </td>\r\n                  <td>\r\n                    <textarea\r\n                      ref={addToInputRefs}\r\n                      defaultValue={selectedToEdit?.biography}\r\n                    ></textarea>\r\n                  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                  <td>\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        saveBio();\r\n                      }}\r\n                    >\r\n                      Save\r\n                    </button>\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        navigateTo(\r\n                          `/${auth?.stagenameInUrl\r\n                            ?.trim()\r\n                            ?.toLowerCase()}/added-biography`\r\n                        );\r\n                      }}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </form>\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\nexport default AddBiograpgy;\r\n"],"names":["statuscode","setFeedback","auth","useAuth","navigateTo","useNavigate","themeColrs","error","valid","_useState","useState","showloading","_useState2","_slicedToArray","bools","setBools","inputRefs","useRef","_useState3","_useState4","selectedToEdit","setSelectedToEdit","_useState5","_useState6","feedback","saveBio","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_inputRefs$current$","bioObject","_inputRefs$current$2","_inputRefs$current$2$","response","_auth$stagenameInUrl","_auth$stagenameInUrl$","_error$response","_error$response2","_error$response3","wrap","_context","prev","next","current","style","borderBottom","concat","value","biography","not_current_content","length","p","_objectSpread","axios","API_BASE_URL","withCredentials","sent","status","stagenameInUrl","trim","toLowerCase","t0","console","log","data","GotoRefreshEndPoint","then","r","_auth$stagenameInUrl2","_auth$stagenameInUrl3","setStatuscodeErrorMessage","stop","apply","arguments","getSelectedItem","useCallback","_callee2","_window$location$path","_window$location$path2","_response$data","_error$response4","_error$response5","_error$response6","_context2","window","location","pathname","split","results","_auth$stagenameInUrl4","_auth$stagenameInUrl5","useEffect","_jsxs","_Fragment","children","_jsx","Loading","className","backgroundColor","showDeleteModal","ref","element","includes","push","pop","defaultValue","onClick","e","preventDefault","_auth$stagenameInUrl6","_auth$stagenameInUrl7"],"sourceRoot":""}