"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[942],{3495:function(e,l,i){i.d(l,{fX:function(){return n},qb:function(){return t}});var n=function(e){var l=null===e||void 0===e?void 0:e.trim();if(null===l||void 0===l)return!1;var i=l.split("-")[0],n=Number(l.split("-")[1])-1,d=l.split("-")[2],o="".concat((new Date).getFullYear()),r="".concat((new Date).getMonth()),a="".concat((new Date).getDate());if(!t(l))return!1;if(Number(i)>Number(o))return!0;if(Number(i)<Number(o))return!1;if(Number(i)===Number(o)){if(Number(n>Number(r)))return!0;if(Number(n<Number(r)))return!1;if(Number(n)===Number(r)){if(Number(d)>=Number(a))return!0;if(Number(d)<Number(a))return!1}}},t=function(e){var l,i,n,t=e.trim(),d=t.split("-")[0],o=t.split("-")[1],r=t.split("-")[2];return!(!Number(d)||!Number(o)||!Number(r)||4!==(null===d||void 0===d?void 0:d.length)||null!==(l=String(d))&&void 0!==l&&l.startsWith("0")||Number(o)>12||Number(o<=0)||2!==(null===(i=String(o))||void 0===i?void 0:i.length)||r>31||Number(r<=0)||2!==(null===(n=String(r))||void 0===n?void 0:n.length))}},6638:function(e,l){l.Z=function(e,l){401===e?l("Unathorized..."):400===e?l("Bad request..."):405===e?l("Method not allowed..."):403===e?l("Error, request not allowed..."):404===e?l("Error, server rejected..."):409===e?l("Similar identity exists"):500===e&&l("Internal error...")}},6942:function(e,l,i){i.r(l);var n=i(4165),t=i(5861),d=i(1413),o=i(885),r=i(2791),a=i(4569),s=i.n(a),u=i(8781),c=i(5332),v=i(3465),p=i(408),m=i(6638),h=i(6871),f=i(3495),x=(i(161),i(6477),i(184));l.default=function(){var e=(0,h.s0)(),l={error:"rgb(255, 71, 86)",valid:"white"},i=(0,r.useState)({image:"",url:""}),a=(0,o.Z)(i,2),j=a[0],b=a[1],g=(0,r.useRef)(),N=(0,v.Z)().auth,y=(0,r.useState)({}),k=(0,o.Z)(y,2),w=k[0],Z=k[1],C=(0,r.useState)({showloading:!1}),L=(0,o.Z)(C,2),D=L[0],S=L[1],U=(0,r.useState)(""),q=(0,o.Z)(U,2),I=q[0],A=q[1],B=[],R=function(e){e&&!B.includes(e)&&B.push(e)},E=function(){var i=(0,t.Z)((0,n.Z)().mark((function i(){var t,o,r,a,u,v,h,x,b,g,y,k;return(0,n.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(Z((function(e){return(0,d.Z)((0,d.Z)({},e),{},{title:B[0].value,artWork:null===j||void 0===j?void 0:j.image,datereleased:B[2].value,applemusic:B[3].value,spotify:B[4].value,audiomack:B[5].value,youtube:B[6].value,soundcloud:B[7].value})})),t=0,o=0,r=0,a=!1,(u=new FormData).append("title",B[0].value),u.append("file",j.image),u.append("datereleased",B[2].value),u.append("applemusic",B[3].value),u.append("spotify",B[4].value),u.append("audiomack",B[5].value),u.append("youtube",B[6].value),u.append("soundcloud",B[7].value),null===u||void 0===u||u.append("not_current_content",!0),B.forEach((function(e){if("req"===(null===e||void 0===e?void 0:e.className)&&(""===(null===e||void 0===e?void 0:e.value)?D.showEdit?"file"===e.type&&""===j.image&&""===j.url&&(t+=1):"file"===(null===e||void 0===e?void 0:e.type)?""===(null===j||void 0===j?void 0:j.image)&&""===(null===j||void 0===j?void 0:j.url)&&(t+=1,e.style.borderBottom="3px solid ".concat(l.error)):(t+=1,e.style.borderBottom="3px solid ".concat(l.error)):e.style.borderBottom="3px solid ".concat(l.valid)),"date"!==(null===e||void 0===e?void 0:e.type)&&"date"!==(null===e||void 0===e?void 0:e.id)||(console.log(e),"Invalid Date"!==new Date("".concat(null===e||void 0===e?void 0:e.value))&&(0,f.qb)(null===e||void 0===e?void 0:e.value)?e.style.borderBottom="3px solid ".concat(null===l||void 0===l?void 0:l.valid):(a=!0,e.style.borderBottom="3px solid ".concat(null===l||void 0===l?void 0:l.error),A("Invalid date"))),"streaminglink"===(null===e||void 0===e?void 0:e.className)&&""!==(null===e||void 0===e?void 0:e.value)){var i,n,d,s,u,c,v,p,m,h,x,b,g,N,y;if(o+=1,null!==e&&void 0!==e&&null!==(i=e.value)&&void 0!==i&&i.startsWith("https://")&&null!==(n=new URL(null===e||void 0===e||null===(s=e.value)||void 0===s?void 0:s.trim()))&&void 0!==n&&null!==(d=n.origin)&&void 0!==d&&d.toLowerCase().endsWith((null===e||void 0===e||null===(u=e.id)||void 0===u?void 0:u.toLowerCase())+".com")){try{var k;new URL(null===e||void 0===e||null===(k=e.value)||void 0===k?void 0:k.trim())}catch(w){r+=1,e.style.borderBottom="3px solid ".concat(l.error),A("Invalid ".concat(null===e||void 0===e?void 0:e.id," URL proovided"))}0===!r&&(e.style.borderBottom="3px solid ".concat(l.valid))}else r+=1,e.style.borderBottom="3px solid ".concat(null===l||void 0===l?void 0:l.error),A("Invalid ".concat(null===e||void 0===e?void 0:e.id," URL proovided"));if("youtube"===(null===e||void 0===e?void 0:e.id))null!==e&&void 0!==e&&null!==(c=e.value)&&void 0!==c&&c.startsWith("https://")&&(null!==(v=new URL(null===e||void 0===e||null===(m=e.value)||void 0===m?void 0:m.trim()))&&void 0!==v&&null!==(p=v.origin)&&void 0!==p&&p.toLowerCase().endsWith((null===e||void 0===e||null===(h=e.id)||void 0===h?void 0:h.toLowerCase())+".com")||null!==(x=new URL(null===e||void 0===e?void 0:e.value))&&void 0!==x&&x.origin.endsWith(null===(b=(null===e||void 0===e||null===(g=e.id)||void 0===g||null===(N=g.toLowerCase())||void 0===N?void 0:N.slice(0,5))+"."+(null===e||void 0===e||null===(y=e.id)||void 0===y?void 0:y.trim().slice(5,8)))||void 0===b?void 0:b.trim()))||(r+=1)}})),o<1&&A("Enter at least, one streamining platform link"),t>0&&A("Enter all required field"),!(o>0&&0===t&&0===r&&!1===a)){i.next=31;break}return S((function(e){return(0,d.Z)((0,d.Z)({},e),{},{showloading:!0})})),i.prev=20,i.next=23,s().post("".concat(p.C,"/save-audio"),u,{withCredentials:!0});case 23:200===(null===(v=i.sent)||void 0===v?void 0:v.status)&&e("/".concat(null===N||void 0===N||null===(h=N.stagenameInUrl)||void 0===h||null===(x=h.trim())||void 0===x?void 0:x.toLowerCase(),"/added-audios")),i.next=31;break;case 27:i.prev=27,i.t0=i.catch(20),null===(b=console)||void 0===b||b.log(i.t0),null!==i.t0&&void 0!==i.t0&&null!==(g=i.t0.response)&&void 0!==g&&g.data?401===(null===i.t0||void 0===i.t0||null===(y=i.t0.response)||void 0===y?void 0:y.status)?(0,c.Z)(N).then((function(l){var i,n;200===l.status?E():e("/".concat(null===N||void 0===N||null===(i=N.stagenameInUrl)||void 0===i||null===(n=i.trim())||void 0===n?void 0:n.toLowerCase(),"/sign-out"))})):((0,m.Z)(null===i.t0||void 0===i.t0||null===(k=i.t0.response)||void 0===k?void 0:k.status,A),S((function(e){return(0,d.Z)((0,d.Z)({},e),{},{showloading:!1})}))):(A("Network error..."),S((function(e){return(0,d.Z)((0,d.Z)({},e),{},{showloading:!1})})));case 31:case"end":return i.stop()}}),i,null,[[20,27]])})));return function(){return i.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:null!==D&&void 0!==D&&D.showloading?(0,x.jsx)(u.Z,{}):(0,x.jsxs)("main",{children:[(0,x.jsx)("div",{className:"feedback-container",style:I?{}:{backgroundColor:"transparent"},children:(0,x.jsxs)("div",{className:"feedback",children:[I,(0,x.jsx)("span",{style:{visibility:"hidden"},children:"."})]})}),(0,x.jsxs)("div",{className:"page-heading",children:["ADD NEW ",(0,x.jsx)("i",{children:(0,x.jsx)("b",{children:"AUDIO"})})]}),!(null!==D&&void 0!==D&&D.showAdded)&&(0,x.jsx)("section",{className:"add-audios",children:(0,x.jsxs)("section",{className:"details",children:[(0,x.jsx)("div",{className:"image-container",children:(0,x.jsx)("img",{src:j.url,alt:"select cover art less than 3mb"})}),(0,x.jsx)("form",{className:"form1",children:(0,x.jsx)("table",{children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"required",children:[(0,x.jsx)("label",{children:"Title"})," ",(0,x.jsx)("span",{children:"*"})]}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{className:"req",type:"text",placeholder:"Song title",ref:R,defaultValue:null===w||void 0===w?void 0:w.title})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"required",children:[(0,x.jsx)("label",{children:"Art work "}),(0,x.jsx)("span",{children:"*"})]}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{className:"req",type:"file",accept:".png,.jpeg,.svg,.jpg",ref:R,onChange:function(){B.forEach((function(e){var l;"file"===e.type&&(e.size>5242880?A("Image size too large"):0!==(null===e||void 0===e||null===(l=e.files)||void 0===l?void 0:l.length)&&b((function(l){return(0,d.Z)((0,d.Z)({},l),{},{url:URL.createObjectURL(e.files[0]),image:e.files[0]})})))}))}})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"required",children:[(0,x.jsx)("label",{children:"Date released"})," ",(0,x.jsx)("span",{children:"*"})]}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{className:"req",type:"date",id:"date",placeholder:"YYYY-MM-DD",ref:R,defaultValue:w.datereleased})})]})]})})}),(0,x.jsx)("div",{className:"streaming-platforms-directive",children:"Add at least one streamning platform link"}),(0,x.jsx)("form",{className:"form2",children:(0,x.jsx)("table",{ref:g,children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("label",{children:"Apple music"})}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{className:"streaminglink",id:"apple",type:"text",placeholder:"Apple music link",ref:R,defaultValue:null===w||void 0===w?void 0:w.applemusic})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("label",{children:"Spotify"})}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{className:"streaminglink",id:"spotify",type:"text",placeholder:"Spotify link",ref:R,defaultValue:null===w||void 0===w?void 0:w.spotify})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("label",{children:"AudioMack"})}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{className:"streaminglink",id:"audiomack",type:"text",placeholder:"AudioMack link",ref:R,defaultValue:null===w||void 0===w?void 0:w.audiomack})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("label",{children:"YouTube"})}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{className:"streaminglink",id:"youtube",type:"text",placeholder:"YouTube link",ref:R,defaultValue:null===w||void 0===w?void 0:w.youtube})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("label",{children:"Soundcloud"})}),(0,x.jsx)("td",{children:(0,x.jsx)("input",{className:"streaminglink",id:"soundcloud",type:"text",placeholder:"Soundcloud link",ref:R,defaultValue:null===w||void 0===w?void 0:w.soundcloud})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"btn-container",children:(0,x.jsx)("button",{onClick:function(e){e.preventDefault(),E()},children:"Save"})}),(0,x.jsx)("td",{className:"btn-container",children:(0,x.jsx)("button",{onClick:function(l){var i,n;l.preventDefault(),e("/".concat(null===N||void 0===N||null===(i=N.stagenameInUrl)||void 0===i||null===(n=i.trim())||void 0===n?void 0:n.toLowerCase(),"/added-audios"))},children:"Cancel"})})]})]})})})]})})]})})}},161:function(){}}]);
//# sourceMappingURL=942.2cf15e54.chunk.js.map