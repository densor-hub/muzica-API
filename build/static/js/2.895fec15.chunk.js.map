{"version":3,"file":"static/js/2.895fec15.chunk.js","mappings":"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","sources":["FNS/setStatuscodeErrorMessage.js","components/Private-Sites/sub-components/add-News.js"],"sourcesContent":["const setStatuscodeErrorMessage = (statuscode, setFeedback) => {\r\n    if (statuscode === 401) {\r\n        setFeedback(\"Unathorized...\")\r\n    }\r\n    else if (statuscode === 400) {\r\n        setFeedback('Bad request...')\r\n    }\r\n    else if (statuscode === 405) {\r\n        setFeedback('Method not allowed...');\r\n    }\r\n    else if (statuscode === 403) {\r\n        setFeedback(\"Error, request not allowed...\")\r\n    }\r\n    else if (statuscode === 404) {\r\n        setFeedback(\"Error, server rejected...\")\r\n    }\r\n    else if (statuscode === 409) {\r\n        setFeedback(\"Similar identity exists\")\r\n    }\r\n    else if (statuscode === 500) {\r\n        setFeedback(\"Internal error...\")\r\n    }\r\n}\r\n\r\nexport default setStatuscodeErrorMessage;","import axios from \"axios\";\r\nimport { useRef, useState } from \"react\";\r\nimport { API_BASE_URL } from \"../../../Resources/BaseURL\";\r\nimport GotoRefreshEndPoint from \"../../../FNS/GoToRefreshEndPoint\";\r\nimport setStatuscodeErrorMessage from \"../../../FNS/setStatuscodeErrorMessage\";\r\nimport useAuth from \"../../../customHooks/useAuth\";\r\nimport Loading from \"../../micro-components/loading\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport '../../micro-components/add-news.css';\r\nimport '../CSS/added.css';\r\n\r\nconst AddNews = () => {\r\n    const themeColor = { valid: \"white\", error: \"rgb(255, 71, 86)\" }\r\n    const { auth } = useAuth();\r\n    const navigateTo = useNavigate();\r\n    const [bools, setBools] = useState({ showloading: false });\r\n    const [feedback, setFeedback] = useState('');\r\n    const inputRefs = useRef([]);\r\n    const addToInputRefs = (element) => {\r\n        if (element && !inputRefs.current.includes(element)) {\r\n            inputRefs.current.push(element)\r\n        }\r\n        else {\r\n            inputRefs.current.pop(element);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    const saveNews = async () => {\r\n        const newsObject = { headline: inputRefs.current[0].value, details: inputRefs.current[1].value, not_current_content: true };\r\n        let requiredButEmpty = false;\r\n\r\n        inputRefs?.current.forEach(element => {\r\n            if (element?.value === \"\") {\r\n                element.style.borderBottom = `3px solid ${themeColor?.error}`;\r\n                requiredButEmpty = true;\r\n            }\r\n            else {\r\n                element.style.borderBottom = `3px solid ${themeColor?.valid}`\r\n            }\r\n        })\r\n\r\n        if (requiredButEmpty) {\r\n            setFeedback(\"Enter all fields\")\r\n        }\r\n        else {\r\n            setBools(p => { return { ...p, showloading: true } });\r\n\r\n            try {\r\n                let response = await axios.post(`${API_BASE_URL}/save-news`, newsObject, { withCredentials: true });\r\n\r\n                if (response.status === 200) {\r\n                    // setBools(p=>{return {...p, showloading : false}});\r\n                    // setFeedback('Saved successfully, redirecting...');\r\n                    // clearNews();\r\n                    // setTimeout(()=>{\r\n                    navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-news`)\r\n                    //},2000)\r\n                }\r\n            } catch (error) {\r\n                if (!error?.response?.data) {\r\n                    console.log(error);\r\n                    setBools(p => { return { ...p, showloading: false } });\r\n                    setFeedback('Network error...')\r\n                }\r\n                else {\r\n                    if (error?.response?.status === 401) {\r\n                        GotoRefreshEndPoint(auth).then((r) => {\r\n                            if (r.status === 200) {\r\n                                saveNews();\r\n                            } else {\r\n                                navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`);\r\n                            }\r\n                        })\r\n                    }\r\n                    else {\r\n                        setStatuscodeErrorMessage(error?.response?.status, setFeedback)\r\n                        setBools(p => { return { ...p, showloading: false } });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {bools?.showloading && <Loading />}\r\n            {\r\n                <main >\r\n\r\n                    <div className=\"feedback-container\" style={!feedback ? { backgroundColor: \"transparent\" } : {}}>\r\n                        <div className=\"feeback\"> <span style={{ visibility: \"hidden\" }}>.</span>{!bools?.showDeleteModal && feedback}</div>\r\n                    </div>\r\n\r\n                    <div className=\"page-heading\">ADD <i><b>NEWS</b></i></div>\r\n\r\n\r\n\r\n                    <section className=\"add-news\" >\r\n                        <form>\r\n                            <table>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td className=\"label\"><label>Headline</label><span>*</span></td>\r\n                                        <td><input type={'text'} ref={addToInputRefs} placeholder={'News headline'}></input></td>\r\n                                    </tr>\r\n\r\n                                    <tr>\r\n                                        <td className=\"label\"><label>Details</label> <span>*</span></td>\r\n                                        <td><textarea ref={addToInputRefs} placeholder={'Description'}></textarea></td>\r\n                                    </tr>\r\n\r\n                                    <tr style={{ textAlign: \"center\" }}>\r\n                                        <td><button onClick={(e) => { e.preventDefault(); saveNews(); }}>Save</button></td>\r\n                                        <td><button onClick={(e) => { e.preventDefault(); navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-news`) }}>Cancel</button></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </form>\r\n                    </section>\r\n\r\n                </main>}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddNews;"],"names":["statuscode","setFeedback","themeColor","valid","error","auth","useAuth","navigateTo","useNavigate","_useState","useState","showloading","_useState2","_slicedToArray","bools","setBools","_useState3","_useState4","feedback","inputRefs","useRef","addToInputRefs","element","current","includes","push","pop","saveNews","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newsObject","requiredButEmpty","_auth$stagenameInUrl","_auth$stagenameInUrl$","_error$response","_error$response2","_error$response3","wrap","_context","prev","next","headline","value","details","not_current_content","forEach","style","borderBottom","concat","p","_objectSpread","axios","API_BASE_URL","withCredentials","sent","status","stagenameInUrl","trim","toLowerCase","t0","response","data","GotoRefreshEndPoint","then","r","_auth$stagenameInUrl2","_auth$stagenameInUrl3","setStatuscodeErrorMessage","console","log","stop","apply","arguments","_jsxs","_Fragment","children","_jsx","Loading","className","backgroundColor","visibility","showDeleteModal","type","ref","placeholder","textAlign","onClick","e","preventDefault","_auth$stagenameInUrl4","_auth$stagenameInUrl5"],"sourceRoot":""}