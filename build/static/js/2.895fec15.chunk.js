"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2],{6638:function(e,n){n.Z=function(e,n){401===e?n("Unathorized..."):400===e?n("Bad request..."):405===e?n("Method not allowed..."):403===e?n("Error, request not allowed..."):404===e?n("Error, server rejected..."):409===e?n("Similar identity exists"):500===e&&n("Internal error...")}},8002:function(e,n,t){t.r(n);var l=t(4165),r=t(1413),s=t(5861),i=t(9439),o=t(4569),a=t.n(o),d=t(2791),c=t(408),u=t(5332),h=t(6638),v=t(3465),x=t(8781),p=t(7689),f=(t(6155),t(6477),t(184));n.default=function(){var e={valid:"white",error:"rgb(255, 71, 86)"},n=(0,v.Z)().auth,t=(0,p.s0)(),o=(0,d.useState)({showloading:!1}),j=(0,i.Z)(o,2),w=j[0],b=j[1],m=(0,d.useState)(""),g=(0,i.Z)(m,2),Z=g[0],k=g[1],C=(0,d.useRef)([]),y=function(e){e&&!C.current.includes(e)?C.current.push(e):C.current.pop(e)},N=function(){var i=(0,s.Z)((0,l.Z)().mark((function s(){var i,o,d,v,x,p,f;return(0,l.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(i={headline:C.current[0].value,details:C.current[1].value,not_current_content:!0},o=!1,null===C||void 0===C||C.current.forEach((function(n){""===(null===n||void 0===n?void 0:n.value)?(n.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.error),o=!0):n.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.valid)})),!o){l.next=7;break}k("Enter all fields"),l.next=18;break;case 7:return b((function(e){return(0,r.Z)((0,r.Z)({},e),{},{showloading:!0})})),l.prev=8,l.next=11,a().post("".concat(c.C,"/save-news"),i,{withCredentials:!0});case 11:200===l.sent.status&&t("/".concat(null===n||void 0===n||null===(d=n.stagenameInUrl)||void 0===d||null===(v=d.trim())||void 0===v?void 0:v.toLowerCase(),"/added-news")),l.next=18;break;case 15:l.prev=15,l.t0=l.catch(8),null!==l.t0&&void 0!==l.t0&&null!==(x=l.t0.response)&&void 0!==x&&x.data?401===(null===l.t0||void 0===l.t0||null===(p=l.t0.response)||void 0===p?void 0:p.status)?(0,u.Z)(n).then((function(e){var l,r;200===e.status?N():t("/".concat(null===n||void 0===n||null===(l=n.stagenameInUrl)||void 0===l||null===(r=l.trim())||void 0===r?void 0:r.toLowerCase(),"/sign-out"))})):((0,h.Z)(null===l.t0||void 0===l.t0||null===(f=l.t0.response)||void 0===f?void 0:f.status,k),b((function(e){return(0,r.Z)((0,r.Z)({},e),{},{showloading:!1})}))):(console.log(l.t0),b((function(e){return(0,r.Z)((0,r.Z)({},e),{},{showloading:!1})})),k("Network error..."));case 18:case"end":return l.stop()}}),s,null,[[8,15]])})));return function(){return i.apply(this,arguments)}}();return(0,f.jsxs)(f.Fragment,{children:[(null===w||void 0===w?void 0:w.showloading)&&(0,f.jsx)(x.Z,{}),(0,f.jsxs)("main",{children:[(0,f.jsx)("div",{className:"feedback-container",style:Z?{}:{backgroundColor:"transparent"},children:(0,f.jsxs)("div",{className:"feeback",children:[" ",(0,f.jsx)("span",{style:{visibility:"hidden"},children:"."}),!(null!==w&&void 0!==w&&w.showDeleteModal)&&Z]})}),(0,f.jsxs)("div",{className:"page-heading",children:["ADD ",(0,f.jsx)("i",{children:(0,f.jsx)("b",{children:"NEWS"})})]}),(0,f.jsx)("section",{className:"add-news",children:(0,f.jsx)("form",{children:(0,f.jsx)("table",{children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"label",children:[(0,f.jsx)("label",{children:"Headline"}),(0,f.jsx)("span",{children:"*"})]}),(0,f.jsx)("td",{children:(0,f.jsx)("input",{type:"text",ref:y,placeholder:"News headline"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"label",children:[(0,f.jsx)("label",{children:"Details"})," ",(0,f.jsx)("span",{children:"*"})]}),(0,f.jsx)("td",{children:(0,f.jsx)("textarea",{ref:y,placeholder:"Description"})})]}),(0,f.jsxs)("tr",{style:{textAlign:"center"},children:[(0,f.jsx)("td",{children:(0,f.jsx)("button",{onClick:function(e){e.preventDefault(),N()},children:"Save"})}),(0,f.jsx)("td",{children:(0,f.jsx)("button",{onClick:function(e){var l,r;e.preventDefault(),t("/".concat(null===n||void 0===n||null===(l=n.stagenameInUrl)||void 0===l||null===(r=l.trim())||void 0===r?void 0:r.toLowerCase(),"/added-news"))},children:"Cancel"})})]})]})})})})]})]})}},6155:function(){}}]);
//# sourceMappingURL=2.895fec15.chunk.js.map