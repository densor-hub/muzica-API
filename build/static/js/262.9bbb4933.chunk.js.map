{"version":3,"file":"static/js/262.9bbb4933.chunk.js","mappings":"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","sources":["FNS/setStatuscodeErrorMessage.js","components/Private-Sites/sub-components/edit-news.js"],"sourcesContent":["const setStatuscodeErrorMessage = (statuscode, setFeedback) => {\r\n    if (statuscode === 401) {\r\n        setFeedback(\"Unathorized...\")\r\n    }\r\n    else if (statuscode === 400) {\r\n        setFeedback('Bad request...')\r\n    }\r\n    else if (statuscode === 405) {\r\n        setFeedback('Method not allowed...');\r\n    }\r\n    else if (statuscode === 403) {\r\n        setFeedback(\"Error, request not allowed...\")\r\n    }\r\n    else if (statuscode === 404) {\r\n        setFeedback(\"Error, server rejected...\")\r\n    }\r\n    else if (statuscode === 409) {\r\n        setFeedback(\"Similar identity exists\")\r\n    }\r\n    else if (statuscode === 500) {\r\n        setFeedback(\"Internal error...\")\r\n    }\r\n}\r\n\r\nexport default setStatuscodeErrorMessage;","import axios from \"axios\";\nimport { useCallback, useRef, useState, useEffect } from \"react\";\nimport { API_BASE_URL } from \"../../../Resources/BaseURL\";\nimport GotoRefreshEndPoint from \"../../../FNS/GoToRefreshEndPoint\";\nimport setStatuscodeErrorMessage from \"../../../FNS/setStatuscodeErrorMessage\";\nimport useAuth from \"../../../customHooks/useAuth\";\nimport Loading from \"../../micro-components/loading\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport '../../micro-components/add-news.css';\nimport '../CSS/added.css';\n\nconst EditNews = () => {\n    const themeColor = { valid: \"white\", error: \"rgb(255, 71, 86)\" }\n    const { auth } = useAuth();\n    const navigateTo = useNavigate();\n    const [bools, setBools] = useState({ showloading: false });\n    const [feedback, setFeedback] = useState('');\n    const inputRefs = useRef([]);\n    const [selectedToedit, setSelectedToEdit] = useState([]);\n    const addToInputRefs = (element) => {\n        if (element && !inputRefs.current.includes(element)) {\n            inputRefs.current.push(element)\n        }\n        else {\n            inputRefs.current.pop(element);\n        }\n    }\n\n\n\n    const getSelectedItem = useCallback(\n        async () => {\n            try {\n                let response = await axios.get(`${API_BASE_URL}/get-news:${window.location.pathname?.split(':')[1]}`, { withCredentials: true });\n\n                console.log(response);\n                if (response?.status === 200) {\n                    setSelectedToEdit(response?.data?.results);\n                }\n\n            } catch (error) {\n                if (!error?.response?.data) {\n                    setFeedback('Network challenges...')\n                }\n                else {\n                    if (error?.response?.status === 401) {\n                        GotoRefreshEndPoint(auth).then((r) => {\n                            if (r.status === 200) {\n                                getSelectedItem();\n                            } else {\n                                navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`);\n                            }\n                        })\n                    }\n                    else {\n                        setBools((p) => { return { ...p, showloading: false } })\n                        setStatuscodeErrorMessage(error?.response?.status, setFeedback)\n                    }\n                }\n\n            }\n        }, [auth, navigateTo]\n    )\n\n    useEffect(() => {\n        getSelectedItem();\n    }, [getSelectedItem])\n\n    const saveNews = async () => {\n        const newsObject = { headline: inputRefs.current[0].value, details: inputRefs.current[1].value };\n        let requiredButEmpty = false;\n\n        inputRefs?.current.forEach(element => {\n            if (element?.value === \"\") {\n                element.style.borderBottom = `3px solid ${themeColor?.error}`;\n                requiredButEmpty = true;\n            }\n            else {\n                element.style.borderBottom = `3px solid ${themeColor?.valid}`\n            }\n        })\n\n        if (requiredButEmpty) {\n            setFeedback(\"Enter all fields\")\n        }\n        else {\n            setBools(p => { return { ...p, showloading: true } });\n\n            try {\n                let response = await axios.patch(`${API_BASE_URL}/update-news:${window.location.pathname?.split(':')[1]}`, newsObject, { withCredentials: true });\n\n                if (response.status === 200) {\n\n                    //setBools(p=>{return {...p, showloading : false}});\n                    //setSelectedToEdit([]);\n                    //setFeedback('Saved successfully, redirecting...');\n\n                    //setTimeout(()=>{\n                    navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-news`)\n                    //},2000)\n                }\n            } catch (error) {\n                if (!error?.response?.data) {\n                    console.log(error);\n                    setBools(p => { return { ...p, showloading: false } });\n                    setFeedback('Network error...')\n                }\n                else {\n                    if (error?.response?.status === 401) {\n                        GotoRefreshEndPoint(auth).then((r) => {\n                            if (r.status === 200) {\n                                saveNews();\n                            } else {\n                                navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/sign-out`);\n                            }\n                        })\n                    }\n                    else {\n                        setStatuscodeErrorMessage(error?.response?.status, setFeedback)\n                        setBools(p => { return { ...p, showloading: false } });\n                    }\n                }\n            }\n        }\n    }\n\n    // const clearNews=()=>{\n    //     inputRefs.current.forEach((element)=>{\n    //         element.value =\"\";\n    //         element.style.borderBottom = `3px solid ${themeColor?.valid}`\n    //     })\n    // }\n\n    return (\n        <>\n            {bools?.showloading && <Loading />}\n            {\n                <main >\n                    <div className=\"feedback-container\" style={!feedback ? { backgroundColor: \"transparent\" } : {}}>\n                        <div className=\"feeback\"> <span style={{ visibility: \"hidden\" }}>.</span>{!bools?.showDeleteModal && feedback}</div>\n                    </div>\n\n                    <div className=\"page-heading\">EDIT <i><b>NEWS</b></i></div>\n                    <section className=\"add-news\" >\n                        <form>\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td className=\"label\"><label>Headline</label><span>*</span></td>\n                                        <td><input type={'text'} ref={addToInputRefs} defaultValue={selectedToedit?.headline} placeholder={'News headline'}></input></td>\n                                    </tr>\n\n                                    <tr>\n                                        <td className=\"label\"><label>Details</label> <span>*</span></td>\n                                        <td><textarea ref={addToInputRefs} defaultValue={selectedToedit.details} placeholder={'Description'}></textarea></td>\n                                    </tr>\n\n                                    <tr style={{ textAlign: \"center\" }}>\n                                        <td><button onClick={(e) => { e.preventDefault(); saveNews(); }}>Save</button></td>\n                                        <td><button onClick={(e) => { e.preventDefault(); navigateTo(`/${auth?.stagenameInUrl?.trim()?.toLowerCase()}/added-news`) }}>Cancel</button></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </form>\n                    </section>\n\n                </main>}\n\n        </>\n    )\n}\n\nexport default EditNews;"],"names":["statuscode","setFeedback","themeColor","valid","error","auth","useAuth","navigateTo","useNavigate","useState","showloading","bools","setBools","feedback","inputRefs","useRef","selectedToedit","setSelectedToEdit","addToInputRefs","element","current","includes","push","pop","getSelectedItem","useCallback","axios","API_BASE_URL","window","location","pathname","split","withCredentials","response","console","log","status","data","results","GotoRefreshEndPoint","then","r","stagenameInUrl","trim","toLowerCase","p","setStatuscodeErrorMessage","useEffect","saveNews","newsObject","headline","value","details","requiredButEmpty","forEach","style","borderBottom","className","backgroundColor","visibility","showDeleteModal","type","ref","defaultValue","placeholder","textAlign","onClick","e","preventDefault"],"sourceRoot":""}