"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[485],{3495:function(e,l,n){n.d(l,{fX:function(){return i},qb:function(){return t}});var i=function(e){var l=null===e||void 0===e?void 0:e.trim();if(null===l||void 0===l)return!1;var n=l.split("-")[0],i=Number(l.split("-")[1])-1,o=l.split("-")[2],d="".concat((new Date).getFullYear()),r="".concat((new Date).getMonth()),u="".concat((new Date).getDate());if(!t(l))return!1;if(Number(n)>Number(d))return!0;if(Number(n)<Number(d))return!1;if(Number(n)===Number(d)){if(Number(i>Number(r)))return!0;if(Number(i<Number(r)))return!1;if(Number(i)===Number(r)){if(Number(o)>=Number(u))return!0;if(Number(o)<Number(u))return!1}}},t=function(e){var l,n,i,t=e.trim(),o=t.split("-")[0],d=t.split("-")[1],r=t.split("-")[2];return!(!Number(o)||!Number(d)||!Number(r)||4!==(null===o||void 0===o?void 0:o.length)||null!==(l=String(o))&&void 0!==l&&l.startsWith("0")||Number(d)>12||Number(d<=0)||2!==(null===(n=String(d))||void 0===n?void 0:n.length)||r>31||Number(r<=0)||2!==(null===(i=String(r))||void 0===i?void 0:i.length))}},6638:function(e,l){l.Z=function(e,l){401===e?l("Unathorized..."):400===e?l("Bad request..."):405===e?l("Method not allowed..."):403===e?l("Error, request not allowed..."):404===e?l("Error, server rejected..."):409===e?l("Similar identity exists"):500===e&&l("Internal error...")}},8485:function(e,l,n){n.r(l);var i=n(4165),t=n(1413),o=n(5861),d=n(885),r=n(2791),u=n(3465),a=n(4569),s=n.n(a),v=n(5332),c=n(6638),h=n(408),f=n(6871),m=n(8781),p=n(3495),b=(n(2359),n(6477),n(184));l.default=function(){var e={error:"rgb(255, 71, 86)",valid:"white"},l=(0,u.Z)().auth,n=(0,f.s0)(),a=(0,r.useMemo)((function(){return[]}),[]),x=function(e){e&&!a.includes(e)&&a.push(e)},w=(0,r.useState)(""),j=(0,d.Z)(w,2),g=j[0],N=j[1],Z=(0,r.useState)(""),k=(0,d.Z)(Z,2),C=k[0],y=k[1],D=(0,r.useState)({showloading:!1}),L=(0,d.Z)(D,2),I=L[0],U=L[1],q=(0,r.useCallback)((0,o.Z)((0,i.Z)().mark((function e(){var o,d,r,u,a,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!0})})),e.prev=1,e.next=4,s().get("".concat(h.C,"/get-videos:").concat(null===(o=window.location.pathname)||void 0===o?void 0:o.split(":")[1]),{withCredentials:!0});case 4:200===(null===(d=e.sent)||void 0===d?void 0:d.status)&&(U((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})})),y(null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.results)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),null!==e.t0&&void 0!==e.t0&&null!==(u=e.t0.response)&&void 0!==u&&u.data?401===(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)?(0,v.Z)(l).then((function(e){var i,t;200===e.status?q():n("/".concat(null===l||void 0===l||null===(i=l.stagenameInUrl)||void 0===i||null===(t=i.trim())||void 0===t?void 0:t.toLowerCase(),"/sign-out"))})):(U((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})})),(0,c.Z)(null===e.t0||void 0===e.t0||null===(f=e.t0.response)||void 0===f?void 0:f.status,N)):(U((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})})),N("Network challenges..."));case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[l,n]);(0,r.useEffect)((function(){q()}),[q]);var B=(0,r.useCallback)((0,o.Z)((0,i.Z)().mark((function o(){var d,r,u,f,m,b,x,w,j,g,Z;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=0,u=0,f=!1,m={title:a[0].value,link:a[1].value,dateReleased:null===(d=a[2])||void 0===d?void 0:d.value},a.forEach((function(l){var n,i,t,o,d,a,s,v,c,h;if((l.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.valid),"link"===(null===l||void 0===l?void 0:l.className))&&""!==(null===l||void 0===l?void 0:l.value))if(null!==l&&void 0!==l&&null!==(n=l.value)&&void 0!==n&&n.startsWith("https://")&&(null!==(i=new URL(null===l||void 0===l||null===(o=l.value)||void 0===o?void 0:o.trim()))&&void 0!==i&&null!==(t=i.origin)&&void 0!==t&&t.toLowerCase().endsWith((null===l||void 0===l||null===(d=l.id)||void 0===d?void 0:d.toLowerCase())+".com")||null!==(a=new URL(null===l||void 0===l?void 0:l.value))&&void 0!==a&&a.origin.endsWith(null===(s=(null===l||void 0===l||null===(v=l.id)||void 0===v||null===(c=v.toLowerCase())||void 0===c?void 0:c.slice(0,5))+"."+(null===l||void 0===l||null===(h=l.id)||void 0===h?void 0:h.trim().slice(5,8)))||void 0===s?void 0:s.trim()))){l.style.borderBottom="3px solid ".concat(e.valid);try{new URL(null===l||void 0===l?void 0:l.value)}catch(m){u+=1,l.style.borderBottom="3px solid ".concat(e.error),N("Invalid ".concat(null===l||void 0===l?void 0:l.id," URL proovided"))}}else u+=1,l.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.error),N("Invalid ".concat(null===l||void 0===l?void 0:l.id," URL proovided"));"date"!==(null===l||void 0===l?void 0:l.type)&&"date"!==(null===l||void 0===l?void 0:l.id)||("Invalid Date"!==new Date("".concat(null===l||void 0===l?void 0:l.value))&&(0,p.qb)(null===l||void 0===l?void 0:l.value)?l.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.valid):(f=!0,l.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.error),N("Invalid date"))),""===(null===l||void 0===l?void 0:l.value)&&(N("Enter all fields"),r+=1,l.style.borderBottom="3px solid ".concat(null===e||void 0===e?void 0:e.error))})),0!==r||0!==u||!1!==f){i.next=17;break}return U((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!0})})),i.prev=7,i.next=10,s().patch("".concat(h.C,"/update-videos:").concat(null===C||void 0===C?void 0:C._id),m,{withCredentials:!0});case 10:200===(null===(b=i.sent)||void 0===b?void 0:b.status)&&n("/".concat(null===l||void 0===l||null===(x=l.stagenameInUrl)||void 0===x||null===(w=x.trim())||void 0===w?void 0:w.toLowerCase(),"/added-videos")),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(7),null!==i.t0&&void 0!==i.t0&&null!==(j=i.t0.response)&&void 0!==j&&j.data?401===(null===i.t0||void 0===i.t0||null===(g=i.t0.response)||void 0===g?void 0:g.status)?(0,v.Z)(l).then((function(e){var i,t;200===e.status?B():n("/".concat(null===l||void 0===l||null===(i=l.stagenameInUrl)||void 0===i||null===(t=i.trim())||void 0===t?void 0:t.toLowerCase(),"/sign-out"))})):((0,c.Z)(null===i.t0||void 0===i.t0||null===(Z=i.t0.response)||void 0===Z?void 0:Z.status,N),U((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})}))):(U((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})})),N("Network error..."));case 17:case"end":return i.stop()}}),o,null,[[7,14]])}))),[a,l,n,null===C||void 0===C?void 0:C._id,null===e||void 0===e?void 0:e.error,null===e||void 0===e?void 0:e.valid]);return(0,b.jsxs)(b.Fragment,{children:[(null===I||void 0===I?void 0:I.showloading)&&(0,b.jsx)(m.Z,{}),""!==C&&(0,b.jsxs)("main",{children:[(0,b.jsx)("div",{className:"feedback-container",style:g?{}:{backgroundColor:"transparent"},children:(0,b.jsxs)("div",{className:"feeback",children:[" ",(0,b.jsx)("span",{style:{visibility:"hidden"},children:"."}),g]})}),(0,b.jsxs)("div",{className:"page-heading",children:["EDIT ",(0,b.jsx)("i",{children:(0,b.jsx)("b",{children:"VIDEO"})})]}),(0,b.jsx)("section",{className:"add-videos",children:(0,b.jsx)("form",{children:(0,b.jsx)("table",{children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"req",children:[(0,b.jsx)("label",{children:"Title"})," ",(0,b.jsx)("span",{children:"*"})]}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{ref:x,defaultValue:null===C||void 0===C?void 0:C.title,placeholder:"Title"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"req",children:[(0,b.jsx)("label",{children:"YouTube link"})," ",(0,b.jsx)("span",{children:"*"})]}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{ref:x,defaultValue:null===C||void 0===C?void 0:C.link,id:"youtube",className:"link",placeholder:"YouTube link"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"req",children:[(0,b.jsx)("label",{children:"Date released"})," ",(0,b.jsx)("span",{children:"*"})]}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{ref:x,defaultValue:null===C||void 0===C?void 0:C.dateReleased,type:"date",className:"req",id:"date",placeholder:"YYYY-MM-DD"})})]}),(0,b.jsxs)("tr",{style:{textAlign:"center"},children:[(0,b.jsx)("td",{children:(0,b.jsx)("button",{onClick:function(e){e.preventDefault(),B()},children:"Save"})}),(0,b.jsx)("td",{children:(0,b.jsx)("button",{onClick:function(e){var i,t;e.preventDefault(),n("/".concat(null===l||void 0===l||null===(i=l.stagenameInUrl)||void 0===i||null===(t=i.trim())||void 0===t?void 0:t.toLowerCase(),"/added-videos"))},children:"Cancel"})})]})]})})})})]})]})}},2359:function(){}}]);
//# sourceMappingURL=485.2719e61b.chunk.js.map