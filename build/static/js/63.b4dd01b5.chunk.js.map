{"version":3,"file":"static/js/63.b4dd01b5.chunk.js","mappings":"4FAwBA,IAxBkC,SAACA,EAAYC,GACxB,MAAfD,EACAC,EAAY,kBAEQ,MAAfD,EACLC,EAAY,kBAEQ,MAAfD,EACLC,EAAY,yBAEQ,MAAfD,EACLC,EAAY,iCAEQ,MAAfD,EACLC,EAAY,6BAEQ,MAAfD,EACLC,EAAY,2BAEQ,MAAfD,GACLC,EAAY,oBAEpB,C,gKCyCA,UApDgB,WAEZ,IAAMC,GAAaC,EAAAA,EAAAA,MACnB,GAA0BC,EAAAA,EAAAA,KAAlBC,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QACd,GAAsCC,EAAAA,EAAAA,WAAS,GAAM,eAA9CC,EAAW,KAAEC,EAAc,KAClC,GAA+BF,EAAAA,EAAAA,UAAS,IAAG,eAApCG,EAAO,KAAET,EAAW,KAIrBU,GAAUC,EAAAA,EAAAA,cAAW,uBACvB,6FAG6B,OAH7B,SAGQH,GAAe,GAAM,SACAI,IAAAA,IAAU,GAAD,OAAIC,EAAAA,EAAY,WAAW,CAAEC,iBAAiB,IAAQ,KAAD,EAA/EC,EAAQ,OACZC,QAAQC,IAAIF,GACa,OAAb,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUG,UACVb,EAAQ,IACRJ,EAAW,WACd,gDAG+B,OAA5B,4BAAe,QAAf,OAAOc,gBAAQ,WAAf,IAAiBG,SACjBC,EAAAA,EAAAA,GAAoBf,GAAMgB,MAAK,SAACC,GACX,MAAbA,EAAEH,QACFF,QAAQC,IAAII,EAAEH,QACdR,KAEAT,EAAW,SAEnB,KAGAqB,EAAAA,EAAAA,GAAyB,OAAC,EAAD,mBAAgB,QAAhB,EAAC,KAAOP,gBAAQ,WAAhB,EAAC,EAAiBG,OAAQlB,GACtD,yDAIP,CAACK,EAASJ,EAAYG,IAM5B,OAJAmB,EAAAA,EAAAA,YAAU,WACNb,GACJ,GAAG,CAACA,KAGA,gCACKD,IAAW,gBAAKe,MAAO,CAAEC,UAAW,UAAW,SAAEhB,IAChDF,EAA4B,IAAd,SAAC,IAAO,MAGpC,C","sources":["FNS/setStatuscodeErrorMessage.js","components/micro-components/sign-out.js"],"sourcesContent":["const setStatuscodeErrorMessage = (statuscode, setFeedback) => {\r\n    if (statuscode === 401) {\r\n        setFeedback(\"Unathorized...\")\r\n    }\r\n    else if (statuscode === 400) {\r\n        setFeedback('Bad request...')\r\n    }\r\n    else if (statuscode === 405) {\r\n        setFeedback('Method not allowed...');\r\n    }\r\n    else if (statuscode === 403) {\r\n        setFeedback(\"Error, request not allowed...\")\r\n    }\r\n    else if (statuscode === 404) {\r\n        setFeedback(\"Error, server rejected...\")\r\n    }\r\n    else if (statuscode === 409) {\r\n        setFeedback(\"Similar identity exists\")\r\n    }\r\n    else if (statuscode === 500) {\r\n        setFeedback(\"Internal error...\")\r\n    }\r\n}\r\n\r\nexport default setStatuscodeErrorMessage;","import useAuth from \"../../customHooks/useAuth\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { API_BASE_URL } from \"../../Resources/BaseURL\";\nimport axios from \"axios\";\nimport Loading from \"./loading\";\nimport GotoRefreshEndPoint from \"../../FNS/GoToRefreshEndPoint\";\nimport setStatuscodeErrorMessage from \"../../FNS/setStatuscodeErrorMessage\";\n\n\n\nconst SignOut = () => {\n\n    const navigateTo = useNavigate();\n    const { auth, setAuth } = useAuth();\n    const [showLoading, setShowLoading] = useState(false);\n    const [feeback, setFeedback] = useState('');\n\n    //this signout only runs a useEffect that sign a user out locally\n    //in profile-Menu-component( found in private sites sub components), auth0 signout app component is imported to sort out auth0 signout \n    const signout = useCallback(\n        async () => {\n\n            try {\n                setShowLoading(true);\n                let response = await axios.get(`${API_BASE_URL}/logout`, { withCredentials: true });\n                console.log(response)\n                if (response?.status === 200) {\n                    setAuth('');\n                    navigateTo('/login')\n                }\n\n            } catch (error) {\n                if (error?.response?.status === 401) {\n                    GotoRefreshEndPoint(auth).then((r) => {\n                        if (r.status === 200) {\n                            console.log(r.status)\n                            signout();\n                        } else {\n                            navigateTo(`/login`);\n                        }\n                    })\n                }\n                else {\n                    setStatuscodeErrorMessage(error?.response?.status, setFeedback)\n                }\n\n            }\n        }\n        , [setAuth, navigateTo, auth])\n\n    useEffect(() => {\n        signout();\n    }, [signout])\n\n    return (\n        <>\n            {feeback && <div style={{ textAlign: 'center' }}>{feeback}</div>}\n            {!showLoading ? <Loading /> : \"\"}\n        </>\n    )\n}\n\nexport default SignOut;"],"names":["statuscode","setFeedback","navigateTo","useNavigate","useAuth","auth","setAuth","useState","showLoading","setShowLoading","feeback","signout","useCallback","axios","API_BASE_URL","withCredentials","response","console","log","status","GotoRefreshEndPoint","then","r","setStatuscodeErrorMessage","useEffect","style","textAlign"],"sourceRoot":""}