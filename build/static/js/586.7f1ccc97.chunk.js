"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[586],{6638:function(e,n){n.Z=function(e,n){401===e?n("Unathorized..."):400===e?n("Bad request..."):405===e?n("Method not allowed..."):403===e?n("Error, request not allowed..."):404===e?n("Error, server rejected..."):409===e?n("Similar identity exists"):500===e&&n("Internal error...")}},8586:function(e,n,t){t.r(n);var r=t(4165),o=t(1413),l=t(5861),a=t(885),i=t(2791),s=t(408),d=t(5332),u=t(6638),c=t(3465),v=t(4569),h=t.n(v),p=t(8781),f=t(6871),x=(t(6155),t(6477),t(184));n.default=function(){var e=(0,c.Z)().auth,n=(0,f.s0)(),t={error:"rgb(255, 71, 86)",valid:"white"},v=(0,i.useState)({showloading:!1}),g=(0,a.Z)(v,2),b=g[0],w=g[1],j=(0,i.useRef)([]),Z=(0,i.useState)(""),m=(0,a.Z)(Z,2),k=m[0],C=m[1],y=(0,i.useState)(""),I=(0,a.Z)(y,2),N=I[0],E=I[1],B=function(){var a=(0,l.Z)((0,r.Z)().mark((function l(){var a,i,c,v,p,f,x,g,b,Z;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(j.current[0].style.borderBottom="3px solid ".concat(null===t||void 0===t?void 0:t.error),C(j.current[0].value),i={biography:null===(a=j.current[0])||void 0===a?void 0:a.value,not_current_content:!0},""!==j.current[0].value){r.next=7;break}E("Enter all fields"),r.next=24;break;case 7:if(!((null===(c=j.current[0])||void 0===c||null===(v=c.value)||void 0===v?void 0:v.length)<100)){r.next=11;break}E("Enter at least 100 characters"),r.next=24;break;case 11:return j.current[0].style.borderBottom="3px solid ".concat(null===t||void 0===t?void 0:t.valid),w((function(e){return(0,o.Z)((0,o.Z)({},e),{},{showloading:!0})})),r.prev=13,r.next=16,h().post("".concat(s.C,"/save-biography"),i,{withCredentials:!0});case 16:200!==(p=r.sent).status&&204!==(null===p||void 0===p?void 0:p.status)||n("/".concat(null===e||void 0===e||null===(f=e.stagenameInUrl)||void 0===f||null===(x=f.trim())||void 0===x?void 0:x.toLowerCase(),"/added-biography")),r.next=24;break;case 20:r.prev=20,r.t0=r.catch(13),console.log(r.t0),null!==r.t0&&void 0!==r.t0&&null!==(g=r.t0.response)&&void 0!==g&&g.data?401===(null===r.t0||void 0===r.t0||null===(b=r.t0.response)||void 0===b?void 0:b.status)?(0,d.Z)(e).then((function(t){var r,o;200===t.status?B():n("/".concat(null===e||void 0===e||null===(r=e.stagenameInUrl)||void 0===r||null===(o=r.trim())||void 0===o?void 0:o.toLowerCase(),"/sign-out"))})):((0,u.Z)(null===r.t0||void 0===r.t0||null===(Z=r.t0.response)||void 0===Z?void 0:Z.status,E),w((function(e){return(0,o.Z)((0,o.Z)({},e),{},{showloading:!1})}))):(w((function(e){return(0,o.Z)((0,o.Z)({},e),{},{showloading:!1})})),E("Network error..."));case 24:case"end":return r.stop()}}),l,null,[[13,20]])})));return function(){return a.apply(this,arguments)}}(),S=(0,i.useCallback)((0,l.Z)((0,r.Z)().mark((function t(){var l,a,i,c,v,p;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h().get("".concat(s.C,"/get-biography:").concat(null===(l=window.location.pathname)||void 0===l?void 0:l.split(":")[1]),{withCredentials:!0});case 3:200===(null===(a=t.sent)||void 0===a?void 0:a.status)&&C(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.results),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),null!==t.t0&&void 0!==t.t0&&null!==(c=t.t0.response)&&void 0!==c&&c.data?401===(null===t.t0||void 0===t.t0||null===(v=t.t0.response)||void 0===v?void 0:v.status)?(0,d.Z)(e).then((function(t){var r,o;200===t.status?S():n("/".concat(null===e||void 0===e||null===(r=e.stagenameInUrl)||void 0===r||null===(o=r.trim())||void 0===o?void 0:o.toLowerCase(),"/sign-out"))})):(w((function(e){return(0,o.Z)((0,o.Z)({},e),{},{showloading:!1})})),(0,u.Z)(null===t.t0||void 0===t.t0||null===(p=t.t0.response)||void 0===p?void 0:p.status,E)):E("Network challenges...");case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e,n]);return(0,i.useEffect)((function(){S()}),[S]),(0,x.jsxs)(x.Fragment,{children:[(null===b||void 0===b?void 0:b.showloading)&&(0,x.jsx)(p.Z,{}),(0,x.jsxs)("main",{children:[(0,x.jsx)("div",{className:"feedback-container",style:N?{}:{backgroundColor:"transparent"},children:(0,x.jsx)("div",{className:"feeback",children:!(null!==b&&void 0!==b&&b.showDeleteModal)&&N})}),(0,x.jsxs)("div",{className:"page-heading",children:["EDIT ",(0,x.jsx)("i",{children:(0,x.jsx)("b",{children:"BIO"})})]}),(0,x.jsx)("section",{className:"add-news",children:(0,x.jsx)("form",{children:(0,x.jsx)("table",{children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"label",children:[(0,x.jsx)("label",{children:"Biography"})," ",(0,x.jsx)("span",{children:"*"})]}),(0,x.jsx)("td",{children:(0,x.jsx)("textarea",{ref:function(e){e&&!j.current.includes(e)?j.current.push(e):j.current.pop(e)},defaultValue:null===k||void 0===k?void 0:k.biography})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("button",{onClick:function(e){e.preventDefault(),B()},children:"Save"})}),(0,x.jsx)("td",{children:(0,x.jsx)("button",{onClick:function(t){var r,o;t.preventDefault(),n("/".concat(null===e||void 0===e||null===(r=e.stagenameInUrl)||void 0===r||null===(o=r.trim())||void 0===o?void 0:o.toLowerCase(),"/added-biography"))},children:"Cancel"})})]})]})})})})]})]})}},6155:function(){}}]);
//# sourceMappingURL=586.7f1ccc97.chunk.js.map