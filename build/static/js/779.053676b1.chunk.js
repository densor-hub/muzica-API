"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[779],{3495:function(e,l,i){i.d(l,{fX:function(){return n},qb:function(){return t}});var n=function(e){var l=null===e||void 0===e?void 0:e.trim();if(null===l||void 0===l)return!1;var i=l.split("-")[0],n=Number(l.split("-")[1])-1,o=l.split("-")[2],d="".concat((new Date).getFullYear()),r="".concat((new Date).getMonth()),a="".concat((new Date).getDate());if(!t(l))return!1;if(Number(i)>Number(d))return!0;if(Number(i)<Number(d))return!1;if(Number(i)===Number(d)){if(Number(n>Number(r)))return!0;if(Number(n<Number(r)))return!1;if(Number(n)===Number(r)){if(Number(o)>=Number(a))return!0;if(Number(o)<Number(a))return!1}}},t=function(e){var l,i,n,t=e.trim(),o=t.split("-")[0],d=t.split("-")[1],r=t.split("-")[2];return!(!Number(o)||!Number(d)||!Number(r)||4!==(null===o||void 0===o?void 0:o.length)||null!==(l=String(o))&&void 0!==l&&l.startsWith("0")||Number(d)>12||Number(d<=0)||2!==(null===(i=String(d))||void 0===i?void 0:i.length)||r>31||Number(r<=0)||2!==(null===(n=String(r))||void 0===n?void 0:n.length))}},6638:function(e,l){l.Z=function(e,l){401===e?l("Unathorized..."):400===e?l("Bad request..."):405===e?l("Method not allowed..."):403===e?l("Error, request not allowed..."):404===e?l("Error, server rejected..."):409===e?l("Similar identity exists"):500===e&&l("Internal error...")}},3779:function(e,l,i){i.r(l);var n=i(4165),t=i(1413),o=i(5861),d=i(9439),r=i(2791),a=i(3465),s=i(4569),u=i.n(s),c=i(5332),v=i(6638),p=i(408),m=i(7689),h=i(8781),f=i(3495),x=(i(161),i(6477),i(811)),j=i(184);l.default=function(){var e=(0,a.Z)().auth,l=(0,m.s0)(),i=(0,m.TH)(),s=(0,r.useState)(""),x=(0,d.Z)(s,2),N=x[0],w=x[1],k=(0,r.useState)(""),y=(0,d.Z)(k,2),Z=y[0],C=y[1],I={error:"rgb(255, 71, 86)",valid:"white"},L=(0,r.useState)({image:"",url:""}),U=(0,d.Z)(L,2),q=U[0],D=U[1],S=(0,r.useRef)(),B=(0,r.useState)({showloading:!1}),R=(0,d.Z)(B,2),E=R[0],A=R[1],V=(0,r.useCallback)((0,o.Z)((0,n.Z)().mark((function o(){var d,r,a,s,m,h;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!0})})),n.next=4,u().get("".concat(p.C,"/get-audios:").concat(null===(d=i.pathname)||void 0===d?void 0:d.split("/")[(null===i||void 0===i?void 0:i.pathname.split("/").length)-1]),{withCredentials:!0});case 4:200===(null===(r=n.sent)||void 0===r?void 0:r.status)&&(C(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.results),A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})}))),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),null!==n.t0&&void 0!==n.t0&&null!==(s=n.t0.response)&&void 0!==s&&s.data?401===(null===n.t0||void 0===n.t0||null===(m=n.t0.response)||void 0===m?void 0:m.status)?(0,c.Z)(e).then((function(i){var n,t;200===i.status?V():l("/".concat(null===e||void 0===e||null===(n=e.stagenameInUrl)||void 0===n||null===(t=n.trim())||void 0===t?void 0:t.toLowerCase(),"/sign-out"))})):(A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})})),(0,v.Z)(null===n.t0||void 0===n.t0||null===(h=n.t0.response)||void 0===h?void 0:h.status,w)):(A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})})),w("Network challenges..."));case 12:case"end":return n.stop()}}),o,null,[[0,8]])}))),[e,l]);(0,r.useEffect)((function(){V()}),[V]);var W=[],Y=function(e){e&&!W.includes(e)&&W.push(e)},M=function(){var i=(0,o.Z)((0,n.Z)().mark((function i(){var o,d,r,a,s,m,h,x,j,b,g,N;return(0,n.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(C((function(e){return(0,t.Z)((0,t.Z)({},e),{},{title:W[0].value,artWork:null===q||void 0===q?void 0:q.image,datereleased:W[2].value,applemusic:W[3].value,spotify:W[4].value,audiomack:W[5].value,youtube:W[6].value,soundcloud:W[7].value})})),""===Z){i.next=33;break}if(o=0,d=0,r=0,a=!1,(s=new FormData).append("title",W[0].value),s.append("image",null===Z||void 0===Z?void 0:Z.image),s.append("file",q.image),s.append("datereleased",W[2].value),s.append("applemusic",W[3].value),s.append("spotify",W[4].value),s.append("audiomack",W[5].value),s.append("youtube",W[6].value),s.append("soundcloud",W[7].value),s.append("uniqueId",null===Z||void 0===Z?void 0:Z.uniqueId),W.forEach((function(e){if("req"===(null===e||void 0===e?void 0:e.className)&&(""===(null===e||void 0===e?void 0:e.value)?(o+=1,e.style.borderBottom="3px solid ".concat(I.error),"file"===(null===e||void 0===e?void 0:e.type)&&(""!==(null===q||void 0===q?void 0:q.image)&&""!==(null===q||void 0===q?void 0:q.url)||""!==(null===Z||void 0===Z?void 0:Z.coverart)?(e.style.borderBottom="3px solid ".concat(I.valid),o-=1):e.style.borderBottom="3px solid ".concat(I.error))):e.style.borderBottom="3px solid ".concat(I.valid)),"streaminglink"===(null===e||void 0===e?void 0:e.className)&&""!==(null===e||void 0===e?void 0:e.value)){var l,i,n,t,s,u,c,v,p,m,h,x,j,b,g;if(d+=1,null!==e&&void 0!==e&&null!==(l=e.value)&&void 0!==l&&l.startsWith("https://")&&null!==(i=new URL(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.trim()))&&void 0!==i&&null!==(n=i.origin)&&void 0!==n&&n.toLowerCase().endsWith((null===e||void 0===e||null===(s=e.id)||void 0===s?void 0:s.toLowerCase())+".com")){try{var N;new URL(null===e||void 0===e||null===(N=e.value)||void 0===N?void 0:N.trim())}catch(k){r+=1,e.style.borderBottom="3px solid ".concat(I.error),w("Invalid ".concat(null===e||void 0===e?void 0:e.id," URL proovided"))}0===!r&&(e.style.borderBottom="3px solid ".concat(I.valid))}else r+=1,e.style.borderBottom="3px solid ".concat(null===I||void 0===I?void 0:I.error),w("Invalid ".concat(null===e||void 0===e?void 0:e.id," URL proovided"));if("youtube"===(null===e||void 0===e?void 0:e.id))null!==e&&void 0!==e&&null!==(u=e.value)&&void 0!==u&&u.startsWith("https://")&&(null!==(c=new URL(null===e||void 0===e||null===(p=e.value)||void 0===p?void 0:p.trim()))&&void 0!==c&&null!==(v=c.origin)&&void 0!==v&&v.toLowerCase().endsWith((null===e||void 0===e||null===(m=e.id)||void 0===m?void 0:m.toLowerCase())+".com")||null!==(h=new URL(null===e||void 0===e?void 0:e.value))&&void 0!==h&&h.origin.endsWith(null===(x=(null===e||void 0===e||null===(j=e.id)||void 0===j||null===(b=j.toLowerCase())||void 0===b?void 0:b.slice(0,5))+"."+(null===e||void 0===e||null===(g=e.id)||void 0===g?void 0:g.trim().slice(5,8)))||void 0===x?void 0:x.trim()))||(r+=1)}"date"!==(null===e||void 0===e?void 0:e.type)&&"date"!==(null===e||void 0===e?void 0:e.id)||("Invalid Date"!==new Date("".concat(null===e||void 0===e?void 0:e.value))&&(0,f.qb)(null===e||void 0===e?void 0:e.value)?e.style.borderBottom="3px solid ".concat(null===I||void 0===I?void 0:I.valid):(a=!0,e.style.borderBottom="3px solid ".concat(null===I||void 0===I?void 0:I.error),w("Invalid date")))})),d<1&&w("Enter at least, one streamining platform link"),o>0&&w("Enter all required field"),!(d>0&&0===o&&0===r&&!1===a)){i.next=33;break}return A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!0})})),i.prev=22,i.next=25,u().patch("".concat(p.C,"/update-audios:").concat(null===Z||void 0===Z?void 0:Z._id),s,{withCredentials:!0});case 25:200===(null===(m=i.sent)||void 0===m?void 0:m.status)&&l("/".concat(null===e||void 0===e||null===(h=e.stagenameInUrl)||void 0===h||null===(x=h.trim())||void 0===x?void 0:x.toLowerCase(),"/added-audios")),i.next=33;break;case 29:i.prev=29,i.t0=i.catch(22),null===(j=console)||void 0===j||j.log(i.t0),null!==i.t0&&void 0!==i.t0&&null!==(b=i.t0.response)&&void 0!==b&&b.data?401===(null===i.t0||void 0===i.t0||null===(g=i.t0.response)||void 0===g?void 0:g.status)?(0,c.Z)(e).then((function(i){var n,t;200===i.status?M():l("/".concat(null===e||void 0===e||null===(n=e.stagenameInUrl)||void 0===n||null===(t=n.trim())||void 0===t?void 0:t.toLowerCase(),"/sign-out"))})):((0,v.Z)(null===i.t0||void 0===i.t0||null===(N=i.t0.response)||void 0===N?void 0:N.status,w),A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})}))):(w("Network error..."),A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{showloading:!1})})));case 33:case"end":return i.stop()}}),i,null,[[22,29]])})));return function(){return i.apply(this,arguments)}}();return console.log(q),(0,j.jsxs)(j.Fragment,{children:[(null===E||void 0===E?void 0:E.showloading)&&(0,j.jsx)(h.Z,{}),""!==Z&&(0,j.jsxs)("main",{children:[(0,j.jsx)("div",{className:"feedback-container",style:N?{}:{backgroundColor:"transparent"},children:(0,j.jsxs)("div",{className:"feedback",children:[N,(0,j.jsx)("span",{style:{visibility:"hidden"},children:"."})]})}),(0,j.jsxs)("div",{className:"page-heading",children:["EDIT"," ",(0,j.jsx)("i",{children:(0,j.jsx)("b",{children:"AUDIO"})})]}),(0,j.jsx)("section",{className:"add-audios",children:(0,j.jsxs)("section",{className:"details",children:[(0,j.jsx)("div",{className:"image-container",children:""===(null===q||void 0===q?void 0:q.url)?(0,j.jsx)(g,{element:Z,auth:e}):(0,j.jsx)(b,{selectedImage:q,auth:e})}),(0,j.jsx)("form",{className:"form1",children:(0,j.jsx)("table",{children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsxs)("td",{className:"required",children:[(0,j.jsx)("label",{children:"Title"})," ",(0,j.jsx)("span",{children:"*"})]}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{className:"req",type:"text",placeholder:"Song title",ref:Y,defaultValue:null===Z||void 0===Z?void 0:Z.title})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsxs)("td",{className:"required",children:[(0,j.jsx)("label",{children:"Art work "}),(0,j.jsx)("span",{children:"*"})]}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{className:"req",type:"file",accept:".png,.jpeg,.svg,.jpg",ref:Y,onChange:function(){W.forEach((function(e){var l;"file"===e.type&&0!==(null===e||void 0===e||null===(l=e.files)||void 0===l?void 0:l.length)&&D((function(l){return(0,t.Z)((0,t.Z)({},l),{},{url:URL.createObjectURL(e.files[0]),image:e.files[0]})}))}))}})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsxs)("td",{className:"required",children:[(0,j.jsx)("label",{children:"Date released"})," ",(0,j.jsx)("span",{children:"*"})]}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{className:"req",id:"date",type:"date",placeholder:"YYYY-MM-DD",ref:Y,defaultValue:Z.datereleased})})]})]})})}),(0,j.jsx)("div",{className:"streaming-platforms-directive",children:"Add at least one streamning platform link"}),(0,j.jsx)("form",{className:"form2",children:(0,j.jsx)("table",{ref:S,children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:(0,j.jsx)("label",{children:"Apple music"})}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{className:"streaminglink",id:"apple",type:"text",placeholder:"Apple music link",ref:Y,defaultValue:null===Z||void 0===Z?void 0:Z.applemusic})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:(0,j.jsx)("label",{children:"Spotify"})}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{className:"streaminglink",id:"spotify",type:"text",placeholder:"Spotify link",ref:Y,defaultValue:null===Z||void 0===Z?void 0:Z.spotify})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:(0,j.jsx)("label",{children:"AudioMack"})}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{className:"streaminglink",id:"audiomack",type:"text",placeholder:"AudioMack link",ref:Y,defaultValue:null===Z||void 0===Z?void 0:Z.audiomack})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:(0,j.jsx)("label",{children:"YouTube"})}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{className:"streaminglink",id:"youtube",type:"text",placeholder:"YouTube link",ref:Y,defaultValue:null===Z||void 0===Z?void 0:Z.youtube})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:(0,j.jsx)("label",{children:"Soundcloud"})}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{className:"streaminglink",id:"soundcloud",type:"text",placeholder:"Soundcloud link",ref:Y,defaultValue:null===Z||void 0===Z?void 0:Z.soundcloud})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"btn-container",children:(0,j.jsx)("button",{onClick:function(e){e.preventDefault(),M()},children:"Save"})}),(0,j.jsx)("td",{className:"btn-container",children:(0,j.jsx)("button",{onClick:function(i){var n,t;i.preventDefault(),l("/".concat(null===e||void 0===e||null===(n=e.stagenameInUrl)||void 0===n||null===(t=n.trim())||void 0===t?void 0:t.toLowerCase(),"/added-audios"))},children:"Cancel"})})]})]})})})]})})]})]})};var b=function(e){var l=e.selectedImage,i=e.auth;return(0,j.jsx)("img",{src:null===l||void 0===l?void 0:l.url,alt:null===i||void 0===i?void 0:i.stagenameInUrl})},g=function(e){var l=e.element,i=e.auth;return(0,j.jsx)("img",{src:(0,x.Z)(l),alt:null===i||void 0===i?void 0:i.stagenameInUrl})}},161:function(){}}]);
//# sourceMappingURL=779.053676b1.chunk.js.map